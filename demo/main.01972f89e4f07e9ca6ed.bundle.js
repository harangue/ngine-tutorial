webpackJsonp([1,4],{"/fcW":function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="/fcW"},"/zpD":function(t,e,n){"use strict";n("3j3K"),n("Y9xR")},0:function(t,e,n){t.exports=n("x35b")},"13VP":function(t,e,n){"use strict";var i=n("PcUE"),r=(n.n(i),n("BYJm"));n.d(e,"a",function(){return o});var o=function(){function t(){var t=this;this.keyActive=new Map,this.keyDown=new Map,this.keyUp=new Map,this.opts={sendRate:5},this.keyDown.set("any",i.Observable.fromEvent(document,"keydown").map(function(t){return t})),this.keyUp.set("any",i.Observable.fromEvent(document,"keyup").map(function(t){return t}));for(var e=function(e){var o=r.a[e];n.keyDown.set(e,i.Observable.fromEvent(document,"keydown").filter(function(t){return t.which===o}).map(function(t){return t})),n.keyUp.set(e,i.Observable.fromEvent(document,"keyup").filter(function(t){return t.which===o}).map(function(t){return t})),n.keyActive.set(e,n.keyDown.get(e).exhaustMap(function(n){return i.Observable.interval(t.opts.sendRate).map(function(t){return n}).takeUntil(t.keyUp.get(e))}))},n=this,o=0,s=Object.keys(r.a);o<s.length;o++){e(s[o])}}return t.ctorParameters=function(){return[]},t}()},"1A80":function(t,e,n){"use strict";function i(t){return o._18(0,[(t()(),o._19(null,["\n    "])),(t()(),o._20(0,null,null,2,"app-player",[],null,null,null,s.a,s.b)),o._21(256,null,a.a,a.a,[]),o._22(57344,null,0,u.a,[c.b,p.a,h.a,l.a,f.a,a.a],null,null),(t()(),o._19(null,["\n    "])),(t()(),o._20(0,null,null,1,"app-obstacles",[],null,null,null,_.a,_.b)),o._22(57344,null,0,d.a,[h.a,l.a,o.Z,y.a,f.a],{flipped:[0,"flipped"]},null),(t()(),o._19(null,["\n    "])),(t()(),o._20(0,null,null,1,"app-obstacles",[],null,null,null,_.a,_.b)),o._22(57344,null,0,d.a,[h.a,l.a,o.Z,y.a,f.a],{flipped:[0,"flipped"]},null),(t()(),o._19(null,["\n  "]))],function(t,e){t(e,3,0),t(e,6,0,!1),t(e,9,0,!0)},null)}function r(t){return o._18(0,[(t()(),o._20(0,null,null,1,"app-root",[],null,null,null,i,g)),o._22(57344,null,0,m.a,[f.a],null,null)],function(t,e){t(e,1,0)},null)}var o=n("3j3K"),s=n("nuuw"),a=n("NSKu"),u=n("KZxv"),c=n("NKKF"),p=n("13VP"),h=n("aKBG"),l=n("dHl8"),f=n("GDry"),_=n("Bqxw"),d=n("xNhL"),y=n("lvNX"),m=n("YWx4");n.d(e,"a",function(){return b});var v=[],g=o._17({encapsulation:2,styles:v,data:{}}),b=o._23("app-root",m.a,r,{},{},[])},"3yFB":function(t,e,n){"use strict";var i=n("Ml+6");n.d(e,"a",function(){return r});var r=function(){function t(){this.scene=new i.f}return t.prototype.getMiddlewareScene=function(){return this.scene},t}()},"79gF":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i;!function(t){t[t.ORTHO=1]="ORTHO"}(i||(i={}))},"8mbX":function(t,e,n){"use strict";var i=n("r8PR");n.d(e,"a",function(){return r});var r=function(){function t(t){this.physics=t}return t.prototype.create=function(t,e){return this.physics.create(t,e)},t.prototype.remove=function(t){return this.physics.remove(t)},t.prototype.update=function(){this.physics.update()},t.prototype.createCollisionGroup=function(t){return this.physics.createCollisionGroup(t)},t.prototype.removeCollisionGroup=function(t){this.physics.removeCollisionGroup(t)},t.prototype.getCollisionGroup=function(t){return this.physics.getCollisionGroup(t)},t.ctorParameters=function(){return[{type:i.b}]},t}()},BYJm:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var s={};for(var a in i)s[i[a]]=a;for(var u in r)i[u]=r[u]},BfZn:function(t,e,n){"use strict";var i=n("PcUE");n.n(i);n.d(e,"a",function(){return r});var r=function(){function t(){}return t}();(function(){function t(){}})(),function(){function t(){this.collision$=new i.Observable}}()},BoNk:function(t,e,n){"use strict";function i(t){return new r.c(t)}var r=n("Y9xR");e.a=i,n.d(e,"b",function(){return o});var o=function(){function t(){}return t.ctorParameters=function(){return[]},t}()},Bqxw:function(t,e,n){"use strict";function i(t){return o._18(0,[o._24(201326592,1,{obstaclesRef:0}),(t()(),o._19(null,["\n    "])),(t()(),o._20(8388608,[[1,3]],null,1,"ngine-group",[],null,null,null,s.a,s.b)),o._22(24576,[["obstacles",4]],0,a.a,[],null,null),(t()(),o._19(null,["\n  "]))],null,null)}function r(t){return o._18(0,[(t()(),o._20(0,null,null,1,"app-obstacles",[],null,null,null,i,_)),o._22(57344,null,0,u.a,[c.a,p.a,o.Z,h.a,l.a],null,null)],function(t,e){t(e,1,0)},null)}var o=n("3j3K"),s=n("Fsrt"),a=n("bE0r"),u=n("xNhL"),c=n("aKBG"),p=n("dHl8"),h=n("lvNX"),l=n("GDry");n.d(e,"b",function(){return _}),e.a=i;var f=[],_=o._17({encapsulation:2,styles:f,data:{}});o._23("app-obstacles",u.a,r,{flipped:"flipped"},{},[])},FjpF:function(t,e,n){"use strict";var i=n("PcUE");n.n(i);n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.interpolate=function(t,e,n){return void 0===n&&(n=!1),new o(t,e,n)},t.prototype.weightEqually=function(t){return t.map(function(e){return{value:e,weight:1/t.length}})},t.ctorParameters=function(){return[]},t}(),o=function(){function t(t,e,n){var r=this;this.items=t,this.duration=e,this.loop=n,this.pause$=new i.Subject,this.stop$=new i.Subject,this.startFrame$=new i.Subject;var o=function(t){return i.Observable.from(r.items).skip(t).concatMap(function(t){return i.Observable.interval(t.weight*r.duration).first().map(function(){return t.value})})},s=this.startFrame$.startWith(0).switchMap(function(t){return o(t).concat(o(0).repeat())});this.frame$=this.pause$.switchMap(function(t){return t?i.Observable.never():s})}return t.prototype.play=function(){this.pause$.next(!1)},t.prototype.pause=function(){this.pause$.next(!0)},t.prototype.stop=function(){this.stop$.next(!0),this.startFrame$.next(0),this.pause$.next(!0)},t.prototype.setFrame=function(t){this.startFrame$.next(t)},t}()},Fsrt:function(t,e,n){"use strict";function i(t){return o._18(0,[o._25(null,0)],null,null)}function r(t){return o._18(0,[(t()(),o._20(0,null,null,1,"ngine-group",[],null,null,null,i,u)),o._22(24576,null,0,s.a,[],null,null)],null,null)}var o=n("3j3K"),s=n("bE0r");n.d(e,"b",function(){return u}),e.a=i;var a=[],u=o._17({encapsulation:2,styles:a,data:{}});o._23("ngine-group",s.a,r,{},{},["*"])},GDry:function(t,e,n){"use strict";var i=n("aavz"),r=n("PcUE");n.n(r);n.d(e,"a",function(){return o});var o=function(){function t(t,e,n){var o=this;this.clock=t,this.camera=e,this.viewport=n,this.INCREASE_AMOUNT=2,this.INCREASE_EVERY=200,this.BASE_SPEED=5,this.OBSTACLE_OFFSET=100,this.NUM_OBSTACLES=2*Math.floor(this.viewport.getWidth()/this.OBSTACLE_OFFSET),this.MAX_VELOCITY=.05,this.NEXT_ACCELERATION_MIN=10,this.NEXT_ACCELERATION_MAX=40,this.MAX_ACCELERATION=.02,this.MIN_ACCELERATION=-.02,this.MAX_GAP=.5,this.MIN_GAP=.3,this.STARTING_GAP=.5,this.START_HEIGHT=.5,this.OBSTACLE_PADDING=.05,this.gameOver$=new r.Subject;var s=this.clock.tick.scan(function(t){return t+1},0),a=s.filter(function(t){return t%o.INCREASE_EVERY==0}).map(function(t){return Math.floor(t/o.INCREASE_EVERY)*o.INCREASE_AMOUNT+o.BASE_SPEED}).startWith(this.BASE_SPEED);this.position$=s.withLatestFrom(a).scan(function(t,e){e[0];return t+e[1]},0).takeUntil(this.gameOver$);var u=this.position$.withLatestFrom(a).filter(function(t){var e=t[0],n=t[1];return e%o.OBSTACLE_OFFSET<n}).scan(function(t){return t+1},this.NUM_OBSTACLES).map(function(t){return(t-1)*o.OBSTACLE_OFFSET}),c=r.Observable.of(null).concatMap(function(){return s.skip(Math.floor(o.randomNum(o.NEXT_ACCELERATION_MIN,o.NEXT_ACCELERATION_MAX))).first()}).repeat().map(function(){return o.randomNum(o.MIN_ACCELERATION,o.MAX_ACCELERATION)}),p=this.accelerateify(u,c,this.MAX_VELOCITY,.1,.9,this.START_HEIGHT).startWith(this.START_HEIGHT),h=this.accelerateify(u,c,this.MAX_VELOCITY,this.MIN_GAP,this.MAX_GAP,this.STARTING_GAP).startWith(this.STARTING_GAP),l=Array(this.NUM_OBSTACLES).fill(0).map(function(t,e){return[new i.a(e*o.OBSTACLE_OFFSET,o.START_HEIGHT-o.STARTING_GAP/2),new i.a(e*o.OBSTACLE_OFFSET,o.START_HEIGHT+o.STARTING_GAP/2)]});this.obstacles$=(f=u.withLatestFrom(p,h).map(function(t){var e=t[0],n=t[1],r=t[2];return[new i.a(e,Math.max(n-r/2,o.OBSTACLE_PADDING)),new i.a(e,Math.min(n+r/2,1-o.OBSTACLE_PADDING))]}).share()).startWith.apply(f,l);var f}return t.prototype.randomNum=function(t,e){return Math.random()*(e-t)+t},t.prototype.startGame=function(){var t=this;this.position$.subscribe(function(e){t.camera.getActive().setPosition(new i.a(e,0))}),this.position$.subscribe(function(t){document.getElementById("score").innerText=t}),this.gameOver$.subscribe(function(){document.getElementById("game-over").style.display="block"})},t.prototype.gameOver=function(){this.gameOver$.next(!0)},t.prototype.accelerateify=function(t,e,n,i,r,o){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=0),t.withLatestFrom(e).scan(function(t,e){var i=(e[0],e[1]);return Math.max(Math.min(t+i,n),-1*n)},0).scan(function(t,e){var n=t+e;return null!==i&&(n=Math.max(n,i)),null!==r&&(n=Math.min(n,r)),n},o)},t.ctorParameters=function(){return[{type:i.c},{type:i.d},{type:i.e}]},t}()},Gowi:function(t,e,n){"use strict";var i=n("NSKu"),r=n("af5m");n.d(e,"a",function(){return o});var o=function(){function t(t,e,n){this.nodeName=t,this.middleware=e,this.parent=n,this.type="group",this.children=[]}return t.prototype.toString=function(){return"<"+this.nodeName+">"},t.prototype.setStyle=function(t,e){if(null!==e&&void 0!==e&&("type"===t&&(this.type=e,this.setType("sprite")),"sprite"===this.type)){var n=this.spriteStyles,i=this.sprite;switch(t){case"position-x":n.position.x=+e,this.updatePosition();break;case"position-y":n.position.y=+e,this.updatePosition();break;case"position-z":n.position.z=+e,this.updatePosition();break;case"rotation-x":n.rotation.x=+e,this.updateRotation();break;case"rotation-y":n.rotation.y=+e,this.updateRotation();break;case"rotation-z":n.rotation.z=+e,this.updateRotation();break;case"image":n.image=e,i.setImage(n.image);break;case"width":n.scale.x=+e,this.updateScale();break;case"height":n.scale.y=+e,this.updateScale();break;case"depth":n.scale.z=+e,this.updateScale()}}},t.prototype.getScale=function(){return this.spriteStyles?this.spriteStyles.scale:new r.a(1,1,1)},t.prototype.getPosition=function(){return this.spriteStyles?this.spriteStyles.position:new r.a(0,0,0)},t.prototype.getRotation=function(){return this.spriteStyles?this.spriteStyles.rotation:new r.a(0,0,0)},t.prototype.updatePosition=function(){this.sprite&&(this.parent?this.sprite.setPosition(this.getPosition(),this.parent.getPosition()):this.sprite.setPosition(this.getPosition()),this.children.forEach(function(t){t.updatePosition()}))},t.prototype.updateRotation=function(){this.sprite&&(this.parent?this.sprite.setRotation(this.getRotation(),this.parent.getRotation()):this.sprite.setRotation(this.getRotation()),this.children.forEach(function(t){t.updateRotation()}))},t.prototype.updateScale=function(){this.sprite&&(this.parent?this.sprite.setScale(this.getScale(),this.parent.getScale()):this.sprite.setScale(this.getScale()),this.children.forEach(function(t){t.updateScale()}))},t.prototype.setParent=function(t){this.parent=t},t.prototype.remove=function(){this.setParent(null),this.middleware.destroySprite(this.sprite)},t.prototype.appendChild=function(t){console.log("apppppend"),t.setParent(this),this.children.push(t)},t.prototype.removeChild=function(t){t.remove()},t.prototype.setType=function(t){"sprite"===t&&(this.sprite=this.middleware.createSprite(),this.spriteStyles=new i.a)},t}()},I3CC:function(t,e,n){"use strict";var i=n("3j3K");n.d(e,"a",function(){return r});var r=new i._16("ngine.cameraClass")},Iksp:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},KZxv:function(t,e,n){"use strict";var i=n("aavz"),r=n("PcUE"),o=(n.n(r),n("GDry"));n.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},c=function(){function t(t,e,n,i,r,o){this.assets=t,this.keys=e,this.viewport=n,this.clock=i,this.level=r,this.style=o,this.RELATIVE_SIZE=.025,this.ACCELARATION=.001,this.MAX_VELOCITY=.01,this.GRAVITY=-.001}return t.prototype.ngOnInit=function(){var t=this;this.level.position$.subscribe(function(e){t.style.position.x=e}),this.assets.loadImages([{path:"/ngine-tutorial/demo/assets/img/player.png"}]).subscribe(function(e){var n=e[0];t.style.image=n.style;var i=t.viewport.relativeY(t.RELATIVE_SIZE)/n.data.image.height;t.style.scale=t.style.scale.setX(i).setY(i),t.style.position=t.style.position.setY(0).setZ(5)});var e=r.Observable.merge(this.keys.keyDown.get("space").map(function(){return t.ACCELARATION}),this.keys.keyUp.get("space").map(function(){return t.GRAVITY})).startWith(this.GRAVITY),n=this.level.accelerateify(this.clock.tick,e,this.MAX_VELOCITY,-.5,.5,0);n.takeUntil(this.level.gameOver$).subscribe(function(e){t.style.position.y=t.viewport.relativeY(e)}),this.level.position$.map(function(e){return e+t.viewport.relativeX(.5)}).withLatestFrom(n.map(function(t){return t+.5}),this.level.obstacles$.scan(function(e,n){return e.concat([n]).slice(-1*t.level.NUM_OBSTACLES)},[])).filter(function(e){var n=e[0],i=e[1];return e[2].filter(function(e){var r=e[0],o=e[1];return n>r.x&&n<r.x+t.level.OBSTACLE_OFFSET&&(i<r.y||i>o.y)}).length>0}).subscribe(function(){t.level.gameOver()})},t.ctorParameters=function(){return[{type:i.g},{type:i.j},{type:i.e},{type:i.c},{type:o.a},{type:i.h,decorators:[]}]},t}();c=s([u(5,n.i(i.i)()),a("design:paramtypes",["function"==typeof(p=void 0!==i.g&&i.g)&&p||Object,"function"==typeof(h=void 0!==i.j&&i.j)&&h||Object,"function"==typeof(l=void 0!==i.e&&i.e)&&l||Object,"function"==typeof(f=void 0!==i.c&&i.c)&&f||Object,"function"==typeof(_=void 0!==o.a&&o.a)&&_||Object,"function"==typeof(d=void 0!==i.h&&i.h)&&d||Object])],c);var p,h,l,f,_,d},M6eY:function(t,e,n){"use strict";var i=n("Gowi"),r=n("r8PR");n.d(e,"a",function(){return o});var o=function(){function t(t){this.renderMiddleware=t,this.rendererByCompId=new Map,this.defaultRenderer=new s(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;var n=this.defaultRenderer;return this.rendererByCompId.set(e.id,n),n},t.ctorParameters=function(){return[{type:r.a}]},t}(),s=function(){function t(t){this.renderMiddleware=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return Object.assign(document.createElement(t),{ngine:new i.a(t,this.renderMiddleware)})},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){e&&(t.appendChild(e),e.ngine&&t.ngine.appendChild(e.ngine))},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&(t.removeChild(e),e.ngine&&e.ngine.remove())},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",Object.assign(e,{ngine:new i.a(t,this.renderMiddleware)})},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){},t.prototype.removeAttribute=function(t,e,n){console.log("removeAttribute - what do?")},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,i){t.ngine&&t.ngine.setStyle(e,n)},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){console.log("imma set the prop")},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return function(){return null}},t}()},MfGk:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i=function(){function t(t,e){this.position=t,this.size=e}return t.prototype.setPosition=function(e){return new t(e,this.size)},t.prototype.setSize=function(e){return new t(this.position,e)},t.prototype.tl=function(){return new r(this.x,this.y)},t.prototype.tr=function(){return new r(this.x+this.width,this.y)},t.prototype.bl=function(){return new r(this.x,this.y+this.height)},t.prototype.br=function(){return new r(this.x+this.width,this.y+this.height)},t.prototype.center=function(){return new r(this.x+this.width/2,this.y+this.height/2)},Object.defineProperty(t.prototype,"width",{get:function(){return this.size.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},enumerable:!0,configurable:!0}),t}(),r=(function(){function t(t,e,n){this.x=t,this.y=e,this.radius=n,this.diameter=2*this.radius}}(),function(){function t(t,e,n){this.x=t,this.y=e,this.z=n}return t.zero=function(){return new t(0,0,0)},t.identity=function(){return new t(1,1,1)},t.prototype.setX=function(e){return new t(e,this.y,this.z)},t.prototype.setY=function(e){return new t(this.x,e,this.z)},t.prototype.setZ=function(e){return new t(this.x,this.y,e)},t.prototype.moveX=function(e){return new t(this.x+e,this.y,this.z)},t.prototype.moveY=function(e){return new t(this.x,this.y+e,this.z)},t.prototype.moveZ=function(e){return new t(this.x,this.y,this.z+e)},t.prototype.translate=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z)},t.prototype.scale=function(e){return e instanceof t?new t(this.x*e.x,this.y*e.y,this.z*e.z):new t(this.x*e,this.y*e,this.z&e)},t}())},NKKF:function(t,e,n){"use strict";var i=n("3j3K"),r=n("Qbdm"),o=n("Fzro"),s=n("PcUE");n.n(s);n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var a=function(){function t(t,e,n){this.http=t,this.sanitizer=e,this.assetFactory=n,this.cache=new Map,this.inProgress=new Map}return t.prototype.loadImages=function(t,e){var n=this;return void 0===e&&(e=!0),s.Observable.from(t).concatMap(function(t){return n.loadImage(t,e).map(function(e){return{loadedAsset:e,asset:t}})}).map(function(t){var e=t.loadedAsset,i=t.asset;return{style:n.sanitizer.bypassSecurityTrustStyle(i.path),data:e}}).toArray()},t.prototype.loadSounds=function(t,e){var n=this;return void 0===e&&(e=!0),s.Observable.from(t).concatMap(function(t){return n.loadSound(t,e)}).toArray()},t.prototype.getLoadedImageData=function(t){return this.cache.get(t)},t.prototype.getLoadedSoundData=function(t){return this.cache.get(t)},t.prototype.pathsToAssets=function(t){return t.map(function(t){return{path:t}})},t.prototype.loadImage=function(t,e){var n=this,i=this.checkCache(t,e);if(i)return i;var r=s.Observable.from(this.http.get(t.path,{responseType:o.l.Blob})).map(function(t){return t.blob()}).flatMap(function(t){var e=new Image;return e.src=window.URL.createObjectURL(t),s.Observable.fromEvent(e,"load").map(function(){return e})}).map(function(e){return n.assetFactory.createImage(t,e)}).do(function(e){n.cache.set(t.path,e)}).first().share();return this.inProgress.set(t.path,r),r},t.prototype.loadSound=function(t,e){var n=this,i=this.checkCache(t,e);if(i)return i;var r=s.Observable.of(t.path).concatMap(function(t){var e=new Audio;return e.src=t,console.log(e,e.src,t),s.Observable.fromEvent(e,"canplay").map(function(){return e})}).map(function(e){return n.assetFactory.createSound(t,e)}).first().share();return this.inProgress.set(t.path,r),r},t.prototype.checkCache=function(t,e){return this.cache.has(t.path)&&e?s.Observable.of(this.cache.get(t.path)):this.inProgress.has(t.path)?this.inProgress.get(t.path):void 0},t.ctorParameters=function(){return[{type:o.k},{type:r.q},{type:u,decorators:[{type:i.E,args:[n.i(i._11)(function(){return u})]}]}]},t}(),u=function(){function t(t,e){this.factory=t,this.sounds=e}return t.prototype.createImage=function(t,e){return this.factory.createImage(t,e)},t.prototype.createSound=function(t,e){return this.sounds.create(t,e)},t}()},NSKu:function(t,e,n){"use strict";function i(){return function(t,e,i){var o=Reflect.getMetadata("design:paramtypes",t);if(o[i]!==p)throw console.log(o[i],p),Error("That's not a SpriteStyle parameter");for(var c=s(t),l=c[i],f=r(l),_=function(e){var i=function(){return a.get(this,f[e])};h++,Object.defineProperty(t.prototype,"test"+h,{get:i}),n.i(u._10)(e)(t.prototype,"test"+h)},d=0,y=Object.keys(f);d<y.length;d++){_(y[d])}}}function r(t){return{"style.type":t+".type","style.position-x":t+".position.x","style.position-y":t+".position.y","style.position-z":t+".position.z","style.rotation-x":t+".rotation.x","style.rotation-y":t+".rotation.y","style.rotation-z":t+".rotation.z","style.image":t+".image","style.width":t+".scale.x","style.height":t+".scale.y","style.depth":t+".scale.z"}}var o=n("I8yv"),s=(n.n(o),n("pMMu")),a=(n.n(s),n("SeUI")),u=(n.n(a),n("3j3K")),c=n("af5m");n.d(e,"a",function(){return p}),e.c=i,e.b=r;var p=(function(){function t(){this.position=new c.a(0,0,0),this.type="group"}}(),function(){function t(){this.position=new c.a(0,0,0),this.rotation=new c.a(0,0,0),this.scale=new c.a(1,1,1),this.type="sprite"}return t.ctorParameters=function(){return[]},t}()),h=0},NzrQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},P5Ge:function(t,e,n){"use strict";var i=n("PcUE"),r=(n.n(i),n("lvNX")),o=n("af5m");n.d(e,"a",function(){return a});var s,a=function(){function t(t){this.camera=t}return t.prototype.mouseDown=function(t){var e=this;return void 0===t&&(t=!1),i.Observable.fromEvent(document,"mousedown").map(function(n){return e.vectorify(n,t)}).map(function(t){return{x:t.x,y:t.y,button:s.Left,ctrlKey:!1,shiftKey:!1,altKey:!1}})},t.prototype.mouseUp=function(t){var e=this;return void 0===t&&(t=!1),i.Observable.fromEvent(document,"mouseup").map(function(n){return e.vectorify(n,t)}).map(function(t){return{x:t.x,y:t.y,button:s.Left,ctrlKey:!1,shiftKey:!1,altKey:!1}})},t.prototype.mouseMove=function(t){var e=this;return void 0===t&&(t=!1),i.Observable.fromEvent(document,"mousemove").map(function(n){return e.vectorify(n,t)}).map(function(t){return{x:t.x,y:t.y}})},t.prototype.vectorify=function(t,e){var n=new o.a(t.pageX,t.pageY);if(!e){var i=this.camera.getActive(),r=new o.a(n.x/document.documentElement.clientWidth,n.y/document.documentElement.clientHeight),s=r.scale(i.bounds.size),a=i.bounds.setPosition(o.a.zero()).center();return s.translate(a.scale(-1)).translate(i.position)}return n},t.ctorParameters=function(){return[{type:r.a}]},t}();!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Middle=2]="Middle"}(s||(s={}))},P8PR:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.ctorParameters=function(){return[]},t}()},Sv5R:function(t,e,n){"use strict";var i=n("Ml+6");n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.createImage=function(t,e){return new o(t,e)},t}(),o=function(){function t(t,e){this.image=e,this.texture=new i.b(e),this.texture.magFilter=i.c,this.texture.minFilter=i.c,this.texture.needsUpdate=!0,this.material=new i.d({map:this.texture,color:16777215})}return t}()},Ux8a:function(t,e,n){"use strict";var i=n("NKKF");n.d(e,"d",function(){return i.b});var r=n("lvNX");n.d(e,"b",function(){return r.a});var o=(n("sczx"),n("dHl8"));n.d(e,"a",function(){return o.a});var s=n("13VP");n.d(e,"e",function(){return s.a});var a=(n("8mbX"),n("FjpF"),n("P5Ge"),n("aKBG"));n.d(e,"c",function(){return a.a})},WzyT:function(t,e,n){"use strict";n("/zpD")},X5uh:function(t,e,n){"use strict";var i=n("w17Y");n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"e",function(){return i.e}),n.d(e,"f",function(){return i.f}),n.d(e,"g",function(){return i.g}),n.d(e,"h",function(){return i.h}),n.d(e,"i",function(){return i.i}),n.d(e,"j",function(){return i.j})},Y9xR:function(t,e,n){"use strict";var i=n("M6eY");n.d(e,"c",function(){return i.a});var r=n("NSKu");n.d(e,"a",function(){return r.b}),n.d(e,"b",function(){return r.a}),n.d(e,"d",function(){return r.c})},YWx4:function(t,e,n){"use strict";var i=n("GDry");n.d(e,"a",function(){return r});var r=function(){function t(t){this.level=t}return t.prototype.ngOnInit=function(){this.level.startGame()},t.ctorParameters=function(){return[{type:i.a}]},t}()},ZpfB:function(t,e,n){"use strict";var i=n("3j3K"),r=n("aavz"),o=n("3yFB"),s=n("yeps"),a=n("Ml+6");n.d(e,"a",function(){return u});var u=function(){function t(t,e,n,i,r){var o=this;this.camera=t,this.viewport=e,this.clock=n,this.assets=i,this.zone=r,this.renderer=new a.e({antialias:!1}),this.scene=new a.f,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.viewport.getWidth(),this.viewport.getHeight()),document.body.appendChild(this.renderer.domElement),this.animate(),window.addEventListener("resize",function(){return o.onWindowResize()},!1),this.onWindowResize()}return t.prototype.createSprite=function(){return new s.a(this.scene,this.assets)},t.prototype.destroySprite=function(t){this.scene.remove(t.getMiddlewareSprite())},t.prototype.createScene=function(){return new o.a},t.prototype.animate=function(){var t=this;this.zone.runOutsideAngular(function(){window.requestAnimationFrame(function(){return t.animate()}),t.render(t.scene,t.camera.getActive().getMiddlewareCamera()),t.zone.run(function(){t.clock.tick.next()})})},t.prototype.render=function(t,e){this.renderer.clear(),this.renderer.render(t,e)},t.prototype.onWindowResize=function(){this.camera.getActive().updateBounds(new r.f(new r.a(0,0),this.viewport.getSize())),this.renderer.setSize(this.viewport.getWidth(),this.viewport.getHeight())},t.ctorParameters=function(){return[{type:r.d},{type:r.e},{type:r.c},{type:r.g},{type:i.h}]},t}()},aKBG:function(t,e,n){"use strict";var i=n("PcUE"),r=(n.n(i),n("aavz"));n.d(e,"a",function(){return o});var o=function(){function t(){var t=this;this.resize$=i.Observable.fromEvent(window,"resize").map(function(){return t.getSize()})}return t.prototype.getSize=function(){return new r.a(window.innerWidth,window.innerHeight)},t.prototype.getWidth=function(){return window.innerWidth},t.prototype.getHeight=function(){return window.innerHeight},t.prototype.relativeX=function(t){return window.innerWidth*t},t.prototype.relativeY=function(t){return window.innerHeight*t},t.ctorParameters=function(){return[]},t}()},aavz:function(t,e,n){"use strict";var i=n("X5uh");n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"e",function(){return i.e}),n.d(e,"f",function(){return i.f}),n.d(e,"g",function(){return i.g}),n.d(e,"h",function(){return i.h}),n.d(e,"i",function(){return i.i}),n.d(e,"j",function(){return i.j})},af5m:function(t,e,n){"use strict";var i=n("MfGk");n.d(e,"a",function(){return i.a}),n.d(e,"c",function(){return i.b});var r=n("79gF");n.d(e,"b",function(){return r.a})},bE0r:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},"c+Sf":function(t,e,n){"use strict";var i=n("aavz");n.d(e,"a",function(){return c});var r,o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};!function(t){t[t.RED=0]="RED",t[t.ORANGE=1]="ORANGE",t[t.YELLOW=2]="YELLOW",t[t.GREEN=3]="GREEN",t[t.BLUE=4]="BLUE",t[t.PURPLE=5]="PURPLE"}(r||(r={}));var u=(f={},f[r.RED]="/ngine-tutorial/demo/assets/img/obstacle_3.png",f[r.ORANGE]="/ngine-tutorial/demo/assets/img/obstacle_5.png",f[r.YELLOW]="/ngine-tutorial/demo/assets/img/obstacle_4.png",f[r.GREEN]="/ngine-tutorial/demo/assets/img/obstacle_1.png",f[r.BLUE]="/ngine-tutorial/demo/assets/img/obstacle_2.png",f[r.PURPLE]="/ngine-tutorial/demo/assets/img/obstacle_6.png",f),c=function(){function t(t,e,n){this.style=t,this.viewport=e,this.assets=n}return t.prototype.setHeight=function(t){this.height=t},t.prototype.setFlipped=function(t){this.style.rotation.y=t?Math.PI:0,this.flipped=t},t.prototype.setType=function(t){var e=this;this.type=t,this.assets.loadImages([{path:u[this.type]}]).subscribe(function(t){var n=t[0];e.style.image=n.style})},t.prototype.setPosition=function(t){var e=this;this.assets.loadImages([{path:u[this.type]}]).subscribe(function(n){var r=n[0],o=i.a.zero().moveX(e.viewport.getWidth()/-2).moveX(r.data.image.width/-2).moveX(t).setY(0).moveY(e.viewport.getHeight()/-2).moveY(e.viewport.relativeY(e.height)).setZ(0);o=e.flipped?o.moveY(r.data.image.height/2):o.moveY(r.data.image.height/-2),e.style.position=o})},t.ctorParameters=function(){return[{type:i.h,decorators:[]},{type:i.e},{type:i.g}]},t}();c=o([a(0,n.i(i.i)()),s("design:paramtypes",["function"==typeof(p=void 0!==i.h&&i.h)&&p||Object,"function"==typeof(h=void 0!==i.e&&i.e)&&h||Object,"function"==typeof(l=void 0!==i.g&&i.g)&&l||Object])],c);var p,h,l,f},dHl8:function(t,e,n){"use strict";var i=n("PcUE");n.n(i);n.d(e,"a",function(){return r});var r=function(){function t(){this.tick=new i.Subject}return t}()},kZql:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={production:!0}},kke6:function(t,e,n){"use strict";var i=n("3j3K"),r=n("Iksp"),o=n("2Je8"),s=n("Qbdm"),a=n("NVOs"),u=n("Fzro"),c=n("BoNk"),p=n("P8PR"),h=n("sczx"),l=n("NKKF"),f=n("aKBG"),_=n("lvNX"),d=n("13VP"),y=n("P5Ge"),m=n("dHl8"),v=n("NSKu"),g=n("8mbX"),b=n("FjpF"),S=n("ZpfB"),w=n("Sv5R"),E=n("GDry"),O=n("n7LG"),A=n("1A80"),P=n("NzrQ"),R=n("mpmN"),M=n("I3CC"),N=n("BfZn"),C=n("lvNX"),I=n("aKBG"),T=n("dHl8"),x=n("NKKF"),j=n("lMdd"),z=n("NzrQ"),L=n("mpmN"),F=n("I3CC");n.d(e,"a",function(){return D});var G=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(t){function e(e){return t.call(this,e,[O.a,A.a],[A.a])||this}return G(e,t),Object.defineProperty(e.prototype,"_LOCALE_ID_14",{get:function(){return null==this.__LOCALE_ID_14&&(this.__LOCALE_ID_14=i.b(this.parent.get(i.c,null))),this.__LOCALE_ID_14},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_15",{get:function(){return null==this.__NgLocalization_15&&(this.__NgLocalization_15=new o.a(this._LOCALE_ID_14)),this.__NgLocalization_15},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Compiler_16",{get:function(){return null==this.__Compiler_16&&(this.__Compiler_16=new i.d),this.__Compiler_16},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_APP_ID_17",{get:function(){return null==this.__APP_ID_17&&(this.__APP_ID_17=i.e()),this.__APP_ID_17},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_IterableDiffers_18",{get:function(){return null==this.__IterableDiffers_18&&(this.__IterableDiffers_18=i.f()),this.__IterableDiffers_18},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_KeyValueDiffers_19",{get:function(){return null==this.__KeyValueDiffers_19&&(this.__KeyValueDiffers_19=i.g()),this.__KeyValueDiffers_19},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DomSanitizer_20",{get:function(){return null==this.__DomSanitizer_20&&(this.__DomSanitizer_20=new s.b(this.parent.get(s.c))),this.__DomSanitizer_20},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Sanitizer_21",{get:function(){return null==this.__Sanitizer_21&&(this.__Sanitizer_21=this._DomSanitizer_20),this.__Sanitizer_21},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_HAMMER_GESTURE_CONFIG_22",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_22&&(this.__HAMMER_GESTURE_CONFIG_22=new s.d),this.__HAMMER_GESTURE_CONFIG_22},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EVENT_MANAGER_PLUGINS_23",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_23&&(this.__EVENT_MANAGER_PLUGINS_23=[new s.e(this.parent.get(s.c)),new s.f(this.parent.get(s.c)),new s.g(this.parent.get(s.c),this._HAMMER_GESTURE_CONFIG_22)]),this.__EVENT_MANAGER_PLUGINS_23},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EventManager_24",{get:function(){return null==this.__EventManager_24&&(this.__EventManager_24=new s.h(this._EVENT_MANAGER_PLUGINS_23,this.parent.get(i.h))),this.__EventManager_24},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomSharedStylesHost_25",{get:function(){return null==this.__ɵDomSharedStylesHost_25&&(this.__ɵDomSharedStylesHost_25=new s.i(this.parent.get(s.c))),this.__ɵDomSharedStylesHost_25},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomRendererFactory2_26",{get:function(){return null==this.__ɵDomRendererFactory2_26&&(this.__ɵDomRendererFactory2_26=new s.j(this._EventManager_24,this._ɵDomSharedStylesHost_25)),this.__ɵDomRendererFactory2_26},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RendererFactory2_27",{get:function(){return null==this.__RendererFactory2_27&&(this.__RendererFactory2_27=c.a(this.parent.get(P.a))),this.__RendererFactory2_27},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵSharedStylesHost_28",{get:function(){return null==this.__ɵSharedStylesHost_28&&(this.__ɵSharedStylesHost_28=this._ɵDomSharedStylesHost_25),this.__ɵSharedStylesHost_28},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Testability_29",{get:function(){return null==this.__Testability_29&&(this.__Testability_29=new i.i(this.parent.get(i.h))),this.__Testability_29},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Meta_30",{get:function(){return null==this.__Meta_30&&(this.__Meta_30=new s.k(this.parent.get(s.c))),this.__Meta_30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Title_31",{get:function(){return null==this.__Title_31&&(this.__Title_31=new s.l(this.parent.get(s.c))),this.__Title_31},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵi_32",{get:function(){return null==this.__ɵi_32&&(this.__ɵi_32=new a.a),this.__ɵi_32},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_BrowserXhr_33",{get:function(){return null==this.__BrowserXhr_33&&(this.__BrowserXhr_33=new u.a),this.__BrowserXhr_33},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ResponseOptions_34",{get:function(){return null==this.__ResponseOptions_34&&(this.__ResponseOptions_34=new u.b),this.__ResponseOptions_34},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XSRFStrategy_35",{get:function(){return null==this.__XSRFStrategy_35&&(this.__XSRFStrategy_35=u.c()),this.__XSRFStrategy_35},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XHRBackend_36",{get:function(){return null==this.__XHRBackend_36&&(this.__XHRBackend_36=new u.d(this._BrowserXhr_33,this._ResponseOptions_34,this._XSRFStrategy_35)),this.__XHRBackend_36},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RequestOptions_37",{get:function(){return null==this.__RequestOptions_37&&(this.__RequestOptions_37=new u.e),this.__RequestOptions_37},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Http_38",{get:function(){return null==this.__Http_38&&(this.__Http_38=u.f(this._XHRBackend_36,this._RequestOptions_37)),this.__Http_38},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_SoundService_39",{get:function(){return null==this.__SoundService_39&&(this.__SoundService_39=new h.a),this.__SoundService_39},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AssetFactoryService_40",{get:function(){return null==this.__AssetFactoryService_40&&(this.__AssetFactoryService_40=new l.a(this.parent.get(R.a),this._SoundService_39)),this.__AssetFactoryService_40},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AssetService_41",{get:function(){return null==this.__AssetService_41&&(this.__AssetService_41=new l.b(this._Http_38,this._DomSanitizer_20,this._AssetFactoryService_40)),this.__AssetService_41},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ViewportService_42",{get:function(){return null==this.__ViewportService_42&&(this.__ViewportService_42=new f.a),this.__ViewportService_42},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_CameraService_43",{get:function(){return null==this.__CameraService_43&&(this.__CameraService_43=new _.a(this.parent.get(M.a),this._ViewportService_42)),this.__CameraService_43},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_KeyService_44",{get:function(){return null==this.__KeyService_44&&(this.__KeyService_44=new d.a),this.__KeyService_44},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_MouseService_45",{get:function(){return null==this.__MouseService_45&&(this.__MouseService_45=new y.a(this._CameraService_43)),this.__MouseService_45},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ClockService_46",{get:function(){return null==this.__ClockService_46&&(this.__ClockService_46=new m.a),this.__ClockService_46},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_SpriteStyle_47",{get:function(){return null==this.__SpriteStyle_47&&(this.__SpriteStyle_47=new v.a),this.__SpriteStyle_47},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_PhysicsService_48",{get:function(){return null==this.__PhysicsService_48&&(this.__PhysicsService_48=new g.a(this.parent.get(N.a))),this.__PhysicsService_48},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AnimationService_49",{get:function(){return null==this.__AnimationService_49&&(this.__AnimationService_49=new b.a),this.__AnimationService_49},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgineRenderMiddleware_50",{get:function(){return null==this.__NgineRenderMiddleware_50&&(this.__NgineRenderMiddleware_50=new S.a(this.parent.get(C.a),this.parent.get(I.a),this.parent.get(T.a),this.parent.get(x.b),this.parent.get(i.h))),this.__NgineRenderMiddleware_50},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgineMiddlewareAssetFactory_51",{get:function(){return null==this.__NgineMiddlewareAssetFactory_51&&(this.__NgineMiddlewareAssetFactory_51=new w.a),this.__NgineMiddlewareAssetFactory_51},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_LevelService_53",{get:function(){return null==this.__LevelService_53&&(this.__LevelService_53=new E.a(this._ClockService_46,this._CameraService_43,this._ViewportService_42)),this.__LevelService_53},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._CommonModule_0=new o.b,this._ErrorHandler_1=s.m(),this._APP_INITIALIZER_2=[i.j,s.n(this.parent.get(s.o,null),this.parent.get(i.k,null))],this._ApplicationInitStatus_3=new i.l(this._APP_INITIALIZER_2),this._ɵf_4=new i.m(this.parent.get(i.h),this.parent.get(i.n),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_3),this._ApplicationRef_5=this._ɵf_4,this._ApplicationModule_6=new i.o(this._ApplicationRef_5),this._BrowserModule_7=new s.p(this.parent.get(s.p,null)),this._ɵba_8=new a.b,this._FormsModule_9=new a.c,this._HttpModule_10=new u.g,this._NgineModule_11=new c.b,this._NgineThreeModule_12=new p.a,this._AppModule_13=new r.a,this._CAMERA_CLASS_52=j.a,this._AppModule_13},e.prototype.getInternal=function(t,e){return t===o.b?this._CommonModule_0:t===i.p?this._ErrorHandler_1:t===i.q?this._APP_INITIALIZER_2:t===i.l?this._ApplicationInitStatus_3:t===i.m?this._ɵf_4:t===i.r?this._ApplicationRef_5:t===i.o?this._ApplicationModule_6:t===s.p?this._BrowserModule_7:t===a.b?this._ɵba_8:t===a.c?this._FormsModule_9:t===u.g?this._HttpModule_10:t===c.b?this._NgineModule_11:t===p.a?this._NgineThreeModule_12:t===r.a?this._AppModule_13:t===i.c?this._LOCALE_ID_14:t===o.c?this._NgLocalization_15:t===i.d?this._Compiler_16:t===i.s?this._APP_ID_17:t===i.t?this._IterableDiffers_18:t===i.u?this._KeyValueDiffers_19:t===s.q?this._DomSanitizer_20:t===i.v?this._Sanitizer_21:t===s.r?this._HAMMER_GESTURE_CONFIG_22:t===s.s?this._EVENT_MANAGER_PLUGINS_23:t===s.h?this._EventManager_24:t===s.i?this._ɵDomSharedStylesHost_25:t===s.j?this._ɵDomRendererFactory2_26:t===i.w?this._RendererFactory2_27:t===s.t?this._ɵSharedStylesHost_28:t===i.i?this._Testability_29:t===s.k?this._Meta_30:t===s.l?this._Title_31:t===a.a?this._ɵi_32:t===u.a?this._BrowserXhr_33:t===u.h?this._ResponseOptions_34:t===u.i?this._XSRFStrategy_35:t===u.d?this._XHRBackend_36:t===u.j?this._RequestOptions_37:t===u.k?this._Http_38:t===h.a?this._SoundService_39:t===l.a?this._AssetFactoryService_40:t===l.b?this._AssetService_41:t===f.a?this._ViewportService_42:t===_.a?this._CameraService_43:t===d.a?this._KeyService_44:t===y.a?this._MouseService_45:t===m.a?this._ClockService_46:t===v.a?this._SpriteStyle_47:t===g.a?this._PhysicsService_48:t===b.a?this._AnimationService_49:t===z.a?this._NgineRenderMiddleware_50:t===L.a?this._NgineMiddlewareAssetFactory_51:t===F.a?this._CAMERA_CLASS_52:t===E.a?this._LevelService_53:e},e.prototype.destroyInternal=function(){this._ɵf_4.ngOnDestroy(),this.__ɵDomSharedStylesHost_25&&this._ɵDomSharedStylesHost_25.ngOnDestroy()},e}(i.x),D=new i.y(k,r.a)},lMdd:function(t,e,n){"use strict";var i=n("aavz"),r=n("Ml+6");n.d(e,"a",function(){return o});var o=function(){function t(t,e,n){this.bounds=t,this.position=new i.a(0,0,0),this.zoom=1,e===i.b.ORTHO&&(console.log(t.height,t.y),this.camera=new r.a(t.width/-2+t.x,t.width/2+t.x,t.height/2+t.y,t.height/-2+t.y)),this.zoom=this.camera.zoom,n&&this.setPosition(n)}return t.prototype.updateBounds=function(t){this.camera.left=t.width/-2+t.x,this.camera.right=t.width/2+t.x,this.camera.top=t.height/2+t.y,this.camera.bottom=t.height/-2+t.y,this.camera.updateProjectionMatrix()},t.prototype.getMiddlewareCamera=function(){return this.camera},t.prototype.setPosition=function(t){this.bounds=this.bounds.setPosition(t),this.position=this.bounds.tl().setZ(t.z),this.camera.position.x=this.position.x,this.camera.position.y=this.position.y,this.position.z&&(this.camera.position.z=this.position.z)},t.prototype.setZoom=function(t){this.camera.zoom=t,this.camera.updateProjectionMatrix(),this.zoom=this.camera.zoom},t}();i.b.ORTHO},lvNX:function(t,e,n){"use strict";var i=n("3j3K"),r=n("af5m"),o=n("aKBG"),s=n("r8PR");n.d(e,"a",function(){return a});var a=function(){function t(t,e){this.viewport=e,this.cameras=new Map,this.cameraClass=t,this.create("root",new r.c(new r.a(0,0),new r.a(1920,1080)),r.b.ORTHO,new r.a(0,0,10))}return t.prototype.create=function(t,e,n,i){var r=new this.cameraClass(e,n,i);return this.cameras.set(t,r),this.getActive()||this.activate(r),r},t.prototype.activate=function(t){t instanceof this.cameraClass?this.active=t:this.active=this.get(name)},t.prototype.getActive=function(){return this.active},t.prototype.get=function(t){return this.cameras.get(t)},t.ctorParameters=function(){return[{type:s.c,decorators:[{type:i.E,args:[s.d]}]},{type:o.a}]},t}()},mpmN:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},n7LG:function(t,e,n){"use strict";function i(t){return o._18(0,[],null,null)}function r(t){return o._18(0,[(t()(),o._20(0,null,null,2,"app-obstacle",[],null,null,null,i,h)),o._21(256,null,s.a,s.a,[]),o._22(24576,null,0,a.a,[s.a,u.a,c.b],null,null)],null,null)}var o=n("3j3K"),s=n("NSKu"),a=n("c+Sf"),u=n("aKBG"),c=n("NKKF");n.d(e,"a",function(){return l});var p=[],h=o._17({encapsulation:2,styles:p,data:{}}),l=o._23("app-obstacle",a.a,r,{},{},[])},nuuw:function(t,e,n){"use strict";function i(t){return o._18(0,[],null,null)}function r(t){return o._18(0,[(t()(),o._20(0,null,null,2,"app-player",[],null,null,null,i,_)),o._21(256,null,s.a,s.a,[]),o._22(57344,null,0,a.a,[u.b,c.a,p.a,h.a,l.a,s.a],null,null)],function(t,e){t(e,2,0)},null)}var o=n("3j3K"),s=n("NSKu"),a=n("KZxv"),u=n("NKKF"),c=n("13VP"),p=n("aKBG"),h=n("dHl8"),l=n("GDry");n.d(e,"b",function(){return _}),e.a=i;var f=[],_=o._17({encapsulation:2,styles:f,data:{}});o._23("app-player",a.a,r,{},{},[])},r8PR:function(t,e,n){"use strict";var i=n("I3CC");n.d(e,"c",function(){return i.NgineMiddlewareCamera}),n.d(e,"d",function(){return i.a});var r=n("BfZn");n.d(e,"b",function(){return r.a});var o=n("NzrQ");n.d(e,"a",function(){return o.a});n("mpmN")},sczx:function(t,e,n){"use strict";var i=n("PcUE");n.n(i);n.d(e,"a",function(){return o});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=function(){function t(){this.initMaster()}return t.prototype.initMaster=function(){this.rootContext=new AudioContext},t.prototype.create=function(t,e){return new u(e,this.rootContext.createMediaElementSource(e),this.rootContext)},t.prototype.playAll=function(){this.doAll(function(t){return t.play()})},t.prototype.pauseAll=function(){this.doAll(function(t){return t.pause()})},t.prototype.stopAll=function(){this.doAll(function(t){return t.stop()})},t.prototype.doAll=function(t){var e=[];e.push(this.root);do{var n=e.pop();n instanceof u?t(n):n instanceof a&&n.children.forEach(function(t){return e.push(t)})}while(0!==e.length)},t.ctorParameters=function(){return[]},t}(),s=function(){function t(t,e,n){this.source=t,this.context=e,n&&Object.assign(this,n),this.initSound()}return t.prototype.initSound=function(){this.panNode=this.context.createStereoPanner(),this.gainNode=this.context.createGain(),this.panNode.pan.value=0,this.gainNode.gain.value=.5,this.source.connect(this.panNode),this.panNode.connect(this.gainNode),this.gainNode.connect(this.context.destination)},t.prototype.setVolume=function(t){if(t<0||t>1)throw new Error("Invalid volume value");this.volume=t,this.gainNode.gain.value=t},t.prototype.setPan=function(t){if(t<-1||t>1)throw new Error("Invalid pan value");this.pan=t,this.panNode.pan.value=t},t}(),a=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.root=e,r.context=n,i&&Object.assign(r,i),r}return r(e,t),e.prototype.addChild=function(t){this.children.push(t)},e.prototype.removeChild=function(t){this.children=this.children.filter(function(e){return e!==t})},e}(s),u=function(t){function e(e,n,r,o){void 0===o&&(o={});var s=t.call(this,n,r,o)||this;return s.element=e,o&&Object.assign(s,o),s.ended$=i.Observable.fromEvent(s.element,"ended").map(function(){return s}),s.time$=i.Observable.fromEvent(s.element,"timeupdate").map(function(){return s.element.currentTime}),s}return r(e,t),e.prototype.connectSound=function(){this.context.createMediaElementSource(this.element).connect(this.panNode)},e.prototype.play=function(){this.element.play()},e.prototype.pause=function(){this.element.pause()},e.prototype.stop=function(){this.pause(),this.setTime(0)},e.prototype.setTime=function(t){if(t<0)throw new Error("Invalid time value");this.element.currentTime=t},e}(s)},w17Y:function(t,e,n){"use strict";var i=(n("BoNk"),n("af5m"));n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"f",function(){return i.c});var r=n("Ux8a");n.d(e,"c",function(){return r.a}),n.d(e,"d",function(){return r.b}),n.d(e,"e",function(){return r.c}),n.d(e,"g",function(){return r.d}),n.d(e,"j",function(){return r.e});var o=n("Y9xR");n.d(e,"h",function(){return o.b}),n.d(e,"i",function(){return o.d});n("WzyT"),n("r8PR")},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("3j3K"),r=n("kZql"),o=n("Qbdm"),s=n("kke6");r.a.production&&n.i(i.a)(),n.i(o.a)().bootstrapModuleFactory(s.a)},xNhL:function(t,e,n){"use strict";var i=n("3j3K"),r=n("aavz"),o=n("c+Sf"),s=n("GDry");n.d(e,"a",function(){return a});var a=function(){function t(t,e,n,i,r){this.viewport=t,this.clock=e,this.resolver=n,this.camera=i,this.level=r,this.MAX_HEIGHT=.4,this.MIN_HEIGHT=.05,this.POS_OFFSET=100,this.MOVE_AMOUNT=5,this.obstacles=[]}return t.prototype.ngOnInit=function(){var t=this;this.obstacleFactory=this.resolver.resolveComponentFactory(o.a),this.level.obstacles$.map(function(e){var n=e[0],i=e[1];return t.flipped?i:n}).subscribe(function(e){t.obstacles.push(t.genObstacle(e)),t.obstacles.length>t.level.NUM_OBSTACLES&&t.obstacles.shift().destroy()})},t.prototype.genObstacle=function(t){var e=this.obstaclesRef.createComponent(this.obstacleFactory);return e.instance.setType(this.getRandomObstacleColor()),e.instance.setHeight(t.y),e.instance.setFlipped(this.flipped),e.instance.setPosition(t.x),e},t.prototype.getRandomObstacleColor=function(){return Math.floor(6*Math.random())},t.ctorParameters=function(){return[{type:r.e},{type:r.c},{type:i.Z},{type:r.d},{type:s.a}]},t}()},yeps:function(t,e,n){"use strict";var i=n("aavz"),r=n("Ml+6");n.d(e,"a",function(){return o});var o=function(){function t(t,e){this.scene=t,this.assets=e,this.position=new i.a(0,0,0),this.scale=new i.a(1,1,1),this.absolute=!1}return t.prototype.setPosition=function(t,e){!this.absolute&&e&&(t=t.translate(e)),this.position=t,this.sprite&&this.sprite.position.set(t.x,t.y,t.z)},t.prototype.setRotation=function(t,e){!this.absolute&&e&&(t=t.translate(e)),this.rotation=t,this.sprite&&(this.sprite.material.rotation=t.y)},t.prototype.setImage=function(t){var e=this.assets.getLoadedImageData(t).material;this.imageWidth=e.map.image.width,this.imageHeight=e.map.image.height,this.imageDepth=1,this.sprite?this.sprite.material=e:(this.sprite=new r.g(e),this.scene.add(this.sprite)),this.sprite.scale.set(this.imageWidth,this.imageHeight,1),this.setPosition(this.position),this.setScale(this.scale)},t.prototype.getMiddlewareSprite=function(){return this.sprite},t.prototype.setScale=function(t,e){!this.absolute&&e&&(t=t.scale(e)),this.scale=t,this.sprite&&this.sprite.scale.set(this.imageWidth*this.scale.x,this.imageHeight*this.scale.y,this.imageDepth*this.scale.z)},t}()}},[0]);