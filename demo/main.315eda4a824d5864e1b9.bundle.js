webpackJsonp([1,4],{"/zpD":function(t,e,n){"use strict";n("3j3K"),n("Y9xR")},0:function(t,e,n){t.exports=n("x35b")},"13VP":function(t,e,n){"use strict";var i=n("3j3K"),r=n("PcUE"),o=(n.n(r),n("BYJm"));n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){var t=this;this.keyActive=new Map,this.keyDown=new Map,this.keyUp=new Map,this.opts={sendRate:5},this.keyDown.set("any",r.Observable.fromEvent(document,"keydown").map(function(t){return t})),this.keyUp.set("any",r.Observable.fromEvent(document,"keyup").map(function(t){return t}));for(var e=function(e){var i=o.a[e];n.keyDown.set(e,r.Observable.fromEvent(document,"keydown").filter(function(t){return t.which===i}).map(function(t){return t})),n.keyUp.set(e,r.Observable.fromEvent(document,"keyup").filter(function(t){return t.which===i}).map(function(t){return t})),n.keyActive.set(e,n.keyDown.get(e).exhaustMap(function(n){return r.Observable.interval(t.opts.sendRate).map(function(t){return n}).takeUntil(t.keyUp.get(e))}))},n=this,i=0,a=Object.keys(o.a);i<a.length;i++){e(a[i])}}return t}();s=a([n.i(i.c)(),c("design:paramtypes",[])],s)},"3RYq":function(t,e,n){"use strict";var i=n("JP29");n.d(e,"a",function(){return i.a})},"3yFB":function(t,e,n){"use strict";var i=n("Ml+6");n.d(e,"a",function(){return r});var r=function(){function t(){this.scene=new i.f}return t.prototype.getMiddlewareScene=function(){return this.scene},t}()},"79gF":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i;!function(t){t[t.ORTHO=1]="ORTHO"}(i||(i={}))},"8mbX":function(t,e,n){"use strict";var i=n("3j3K"),r=n("r8PR");n.d(e,"a",function(){return c});var o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.physics=t}return t.prototype.create=function(t,e){return this.physics.create(t,e)},t.prototype.remove=function(t){return this.physics.remove(t)},t.prototype.update=function(){this.physics.update()},t.prototype.createCollisionGroup=function(t){return this.physics.createCollisionGroup(t)},t.prototype.removeCollisionGroup=function(t){this.physics.removeCollisionGroup(t)},t.prototype.getCollisionGroup=function(t){return this.physics.getCollisionGroup(t)},t}();c=o([n.i(i.c)(),a("design:paramtypes",["function"==typeof(s=void 0!==r.b&&r.b)&&s||Object])],c);var s},BYJm:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var a={};for(var c in i)a[i[c]]=c;for(var s in r)i[s]=r[s]},BfZn:function(t,e,n){"use strict";var i=n("PcUE");n.n(i);n.d(e,"a",function(){return r});var r=function(){function t(){}return t}();(function(){function t(){}})(),function(){function t(){this.collision$=new i.Observable}}()},BoNk:function(t,e,n){"use strict";function i(t){return new o.c(t)}var r=n("3j3K"),o=n("Y9xR"),a=n("r8PR"),c=n("Ux8a"),s=n("emeE");n.d(e,"a",function(){return p});var u=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(){}return t}();p=u([n.i(r.b)({declarations:[s.a],exports:[s.a],imports:[],schemas:[],providers:[c.d,c.e,c.f,c.b,c.g,c.h,c.a,o.b,c.i,c.j,c.c,{provide:r.C,useFactory:i,deps:[a.a]}]}),f("design:paramtypes",[])],p)},FjpF:function(t,e,n){"use strict";var i=n("3j3K"),r=n("PcUE");n.n(r);n.d(e,"a",function(){return c});var o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.interpolate=function(t,e,n){return void 0===n&&(n=!1),new s(t,e,n)},t.prototype.weightEqually=function(t){return t.map(function(e){return{value:e,weight:1/t.length}})},t}();c=o([n.i(i.c)(),a("design:paramtypes",[])],c);var s=function(){function t(t,e,n){var i=this;this.items=t,this.duration=e,this.loop=n,this.pause$=new r.Subject,this.stop$=new r.Subject,this.startFrame$=new r.Subject;var o=function(t){return r.Observable.from(i.items).skip(t).concatMap(function(t){return r.Observable.interval(t.weight*i.duration).first().map(function(){return t.value})})},a=this.startFrame$.startWith(0).switchMap(function(t){return o(t).concat(o(0).repeat())});this.frame$=this.pause$.switchMap(function(t){return t?r.Observable.never():a})}return t.prototype.play=function(){this.pause$.next(!1)},t.prototype.pause=function(){this.pause$.next(!0)},t.prototype.stop=function(){this.stop$.next(!0),this.startFrame$.next(0),this.pause$.next(!0)},t.prototype.setFrame=function(t){this.startFrame$.next(t)},t}()},GDry:function(t,e,n){"use strict";var i=n("3j3K"),r=n("aavz"),o=n("PcUE");n.n(o);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e,n){var i=this;this.clock=t,this.camera=e,this.viewport=n,this.INCREASE_AMOUNT=2,this.INCREASE_EVERY=200,this.BASE_SPEED=5,this.OBSTACLE_OFFSET=100,this.NUM_OBSTACLES=2*Math.floor(this.viewport.getWidth()/this.OBSTACLE_OFFSET),this.MAX_VELOCITY=.05,this.NEXT_ACCELERATION_MIN=10,this.NEXT_ACCELERATION_MAX=40,this.MAX_ACCELERATION=.02,this.MIN_ACCELERATION=-.02,this.MAX_GAP=.5,this.MIN_GAP=.3,this.STARTING_GAP=.5,this.START_HEIGHT=.5,this.OBSTACLE_PADDING=.05,this.gameOver$=new o.Subject;var a=this.clock.tick.scan(function(t){return t+1},0),c=a.filter(function(t){return t%i.INCREASE_EVERY==0}).map(function(t){return Math.floor(t/i.INCREASE_EVERY)*i.INCREASE_AMOUNT+i.BASE_SPEED}).startWith(this.BASE_SPEED);this.position$=a.withLatestFrom(c).scan(function(t,e){e[0];return t+e[1]},0).takeUntil(this.gameOver$);var s=this.position$.withLatestFrom(c).filter(function(t){var e=t[0],n=t[1];return e%i.OBSTACLE_OFFSET<n}).scan(function(t){return t+1},this.NUM_OBSTACLES).map(function(t){return(t-1)*i.OBSTACLE_OFFSET}),u=o.Observable.of(null).concatMap(function(){return a.skip(Math.floor(i.randomNum(i.NEXT_ACCELERATION_MIN,i.NEXT_ACCELERATION_MAX))).first()}).repeat().map(function(){return i.randomNum(i.MIN_ACCELERATION,i.MAX_ACCELERATION)}),f=this.accelerateify(s,u,this.MAX_VELOCITY,.1,.9,this.START_HEIGHT).startWith(this.START_HEIGHT),p=this.accelerateify(s,u,this.MAX_VELOCITY,this.MIN_GAP,this.MAX_GAP,this.STARTING_GAP).startWith(this.STARTING_GAP),h=Array(this.NUM_OBSTACLES).fill(0).map(function(t,e){return[new r.b(e*i.OBSTACLE_OFFSET,i.START_HEIGHT-i.STARTING_GAP/2),new r.b(e*i.OBSTACLE_OFFSET,i.START_HEIGHT+i.STARTING_GAP/2)]});this.obstacles$=(l=s.withLatestFrom(f,p).map(function(t){var e=t[0],n=t[1],o=t[2];return[new r.b(e,Math.max(n-o/2,i.OBSTACLE_PADDING)),new r.b(e,Math.min(n+o/2,1-i.OBSTACLE_PADDING))]}).share()).startWith.apply(l,h);var l}return t.prototype.randomNum=function(t,e){return Math.random()*(e-t)+t},t.prototype.startGame=function(){var t=this;this.position$.subscribe(function(e){t.camera.getActive().setPosition(new r.b(e,0))}),this.position$.subscribe(function(t){document.getElementById("score").innerText=t}),this.gameOver$.subscribe(function(){document.getElementById("game-over").style.display="block"})},t.prototype.gameOver=function(){this.gameOver$.next(!0)},t.prototype.accelerateify=function(t,e,n,i,r,o){return void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=0),t.withLatestFrom(e).scan(function(t,e){var i=(e[0],e[1]);return Math.max(Math.min(t+i,n),-1*n)},0).scan(function(t,e){var n=t+e;return null!==i&&(n=Math.max(n,i)),null!==r&&(n=Math.min(n,r)),n},o)},t}();s=a([n.i(i.c)(),c("design:paramtypes",["function"==typeof(u=void 0!==r.c&&r.c)&&u||Object,"function"==typeof(f=void 0!==r.d&&r.d)&&f||Object,"function"==typeof(p=void 0!==r.e&&r.e)&&p||Object])],s);var u,f,p},Gowi:function(t,e,n){"use strict";var i=n("NSKu"),r=n("af5m");n.d(e,"a",function(){return o});var o=function(){function t(t,e,n){this.nodeName=t,this.middleware=e,this.parent=n,this.type="group",this.children=[]}return t.prototype.toString=function(){return"<"+this.nodeName+">"},t.prototype.setStyle=function(t,e){if(null!==e&&void 0!==e&&("type"===t&&(this.type=e,this.setType("sprite")),"sprite"===this.type)){var n=this.spriteStyles,i=this.sprite;switch(t){case"position-x":n.position.x=+e,this.updatePosition();break;case"position-y":n.position.y=+e,this.updatePosition();break;case"position-z":n.position.z=+e,this.updatePosition();break;case"rotation-x":n.rotation.x=+e,this.updateRotation();break;case"rotation-y":n.rotation.y=+e,this.updateRotation();break;case"rotation-z":n.rotation.z=+e,this.updateRotation();break;case"image":n.image=e,i.setImage(n.image);break;case"width":n.scale.x=+e,this.updateScale();break;case"height":n.scale.y=+e,this.updateScale();break;case"depth":n.scale.z=+e,this.updateScale()}}},t.prototype.getScale=function(){return this.spriteStyles?this.spriteStyles.scale:new r.a(1,1,1)},t.prototype.getPosition=function(){return this.spriteStyles?this.spriteStyles.position:new r.a(0,0,0)},t.prototype.getRotation=function(){return this.spriteStyles?this.spriteStyles.rotation:new r.a(0,0,0)},t.prototype.updatePosition=function(){this.sprite&&(this.parent?this.sprite.setPosition(this.getPosition(),this.parent.getPosition()):this.sprite.setPosition(this.getPosition()),this.children.forEach(function(t){t.updatePosition()}))},t.prototype.updateRotation=function(){this.sprite&&(this.parent?this.sprite.setRotation(this.getRotation(),this.parent.getRotation()):this.sprite.setRotation(this.getRotation()),this.children.forEach(function(t){t.updateRotation()}))},t.prototype.updateScale=function(){this.sprite&&(this.parent?this.sprite.setScale(this.getScale(),this.parent.getScale()):this.sprite.setScale(this.getScale()),this.children.forEach(function(t){t.updateScale()}))},t.prototype.setParent=function(t){this.parent=t},t.prototype.remove=function(){this.setParent(null),this.middleware.destroySprite(this.sprite)},t.prototype.appendChild=function(t){console.log("apppppend"),t.setParent(this),this.children.push(t)},t.prototype.removeChild=function(t){t.remove()},t.prototype.setType=function(t){"sprite"===t&&(this.sprite=this.middleware.createSprite(),this.spriteStyles=new i.b)},t}()},I3CC:function(t,e,n){"use strict";var i=n("3j3K");n.d(e,"b",function(){return r});var r=new i.d("ngine.cameraClass")},Iksp:function(t,e,n){"use strict";var i=n("Qbdm"),r=n("3j3K"),o=n("NVOs"),a=n("Fzro"),c=n("aavz"),s=n("3RYq"),u=n("YWx4"),f=n("KZxv"),p=n("xNhL"),h=n("c+Sf"),l=n("GDry");n.d(e,"a",function(){return y});var d=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},y=function(){function t(){}return t}();y=d([n.i(r.b)({declarations:[u.a,f.a,p.a,h.a],imports:[i.a,o.a,a.a,c.a,s.a],entryComponents:[h.a],providers:[l.a],bootstrap:[u.a]})],y)},JP29:function(t,e,n){"use strict";var i=n("oKtR");n.d(e,"a",function(){return i.a})},KZxv:function(t,e,n){"use strict";var i=n("3j3K"),r=n("aavz"),o=n("PcUE"),a=(n.n(o),n("GDry"));n.d(e,"a",function(){return f});var c=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},f=function(){function t(t,e,n,i,r,o){this.assets=t,this.keys=e,this.viewport=n,this.clock=i,this.level=r,this.style=o,this.RELATIVE_SIZE=.025,this.ACCELARATION=.001,this.MAX_VELOCITY=.01,this.GRAVITY=-.001}return t.prototype.ngOnInit=function(){var t=this;this.level.position$.subscribe(function(e){t.style.position.x=e}),this.assets.loadImages([{path:"/assets/img/player.png"}]).subscribe(function(e){var n=e[0];t.style.image=n.style;var i=t.viewport.relativeY(t.RELATIVE_SIZE)/n.data.image.height;t.style.scale=t.style.scale.setX(i).setY(i),t.style.position=t.style.position.setY(0).setZ(5)});var e=o.Observable.merge(this.keys.keyDown.get("space").map(function(){return t.ACCELARATION}),this.keys.keyUp.get("space").map(function(){return t.GRAVITY})).startWith(this.GRAVITY),n=this.level.accelerateify(this.clock.tick,e,this.MAX_VELOCITY,-.5,.5,0);n.takeUntil(this.level.gameOver$).subscribe(function(e){t.style.position.y=t.viewport.relativeY(e)}),this.level.position$.map(function(e){return e+t.viewport.relativeX(.5)}).withLatestFrom(n.map(function(t){return t+.5}),this.level.obstacles$.scan(function(e,n){return e.concat([n]).slice(-1*t.level.NUM_OBSTACLES)},[])).filter(function(e){var n=e[0],i=e[1];return e[2].filter(function(e){var r=e[0],o=e[1];return n>r.x&&n<r.x+t.level.OBSTACLE_OFFSET&&(i<r.y||i>o.y)}).length>0}).subscribe(function(){t.level.gameOver()})},t}();f=c([n.i(i.e)({selector:"app-player",template:"",providers:[r.l]}),u(5,n.i(r.m)()),s("design:paramtypes",["function"==typeof(p=void 0!==r.k&&r.k)&&p||Object,"function"==typeof(h=void 0!==r.n&&r.n)&&h||Object,"function"==typeof(l=void 0!==r.e&&r.e)&&l||Object,"function"==typeof(d=void 0!==r.c&&r.c)&&d||Object,"function"==typeof(y=void 0!==a.a&&a.a)&&y||Object,"function"==typeof(v=void 0!==r.l&&r.l)&&v||Object])],f);var p,h,l,d,y,v},M6eY:function(t,e,n){"use strict";var i=n("3j3K"),r=n("Gowi"),o=n("r8PR");n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.renderMiddleware=t,this.rendererByCompId=new Map,this.defaultRenderer=new f(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;var n=this.defaultRenderer;return this.rendererByCompId.set(e.id,n),n},t}();s=a([n.i(i.c)(),c("design:paramtypes",["function"==typeof(u=void 0!==o.a&&o.a)&&u||Object])],s);var u,f=function(){function t(t){this.renderMiddleware=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return Object.assign(document.createElement(t),{ngine:new r.a(t,this.renderMiddleware)})},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){e&&(t.appendChild(e),e.ngine&&t.ngine.appendChild(e.ngine))},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&(t.removeChild(e),e.ngine&&e.ngine.remove())},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",Object.assign(e,{ngine:new r.a(t,this.renderMiddleware)})},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){},t.prototype.removeAttribute=function(t,e,n){console.log("removeAttribute - what do?")},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,i){t.ngine&&t.ngine.setStyle(e,n)},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){console.log("imma set the prop")},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return function(){return null}},t}()},MOVZ:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="MOVZ"},MfGk:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i=function(){function t(t,e){this.position=t,this.size=e}return t.prototype.setPosition=function(e){return new t(e,this.size)},t.prototype.setSize=function(e){return new t(this.position,e)},t.prototype.tl=function(){return new r(this.x,this.y)},t.prototype.tr=function(){return new r(this.x+this.width,this.y)},t.prototype.bl=function(){return new r(this.x,this.y+this.height)},t.prototype.br=function(){return new r(this.x+this.width,this.y+this.height)},t.prototype.center=function(){return new r(this.x+this.width/2,this.y+this.height/2)},Object.defineProperty(t.prototype,"width",{get:function(){return this.size.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},enumerable:!0,configurable:!0}),t}(),r=(function(){function t(t,e,n){this.x=t,this.y=e,this.radius=n,this.diameter=2*this.radius}}(),function(){function t(t,e,n){this.x=t,this.y=e,this.z=n}return t.zero=function(){return new t(0,0,0)},t.identity=function(){return new t(1,1,1)},t.prototype.setX=function(e){return new t(e,this.y,this.z)},t.prototype.setY=function(e){return new t(this.x,e,this.z)},t.prototype.setZ=function(e){return new t(this.x,this.y,e)},t.prototype.moveX=function(e){return new t(this.x+e,this.y,this.z)},t.prototype.moveY=function(e){return new t(this.x,this.y+e,this.z)},t.prototype.moveZ=function(e){return new t(this.x,this.y,this.z+e)},t.prototype.translate=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z)},t.prototype.scale=function(e){return e instanceof t?new t(this.x*e.x,this.y*e.y,this.z*e.z):new t(this.x*e,this.y*e,this.z&e)},t}())},NKKF:function(t,e,n){"use strict";var i=n("3j3K"),r=n("Qbdm"),o=n("Fzro"),a=n("PcUE"),c=(n.n(a),n("r8PR")),s=n("sczx");n.d(e,"a",function(){return h}),n.d(e,"b",function(){return l});var u=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},h=function(){function t(t,e,n){this.http=t,this.sanitizer=e,this.assetFactory=n,this.cache=new Map,this.inProgress=new Map}return t.prototype.loadImages=function(t,e){var n=this;return void 0===e&&(e=!0),a.Observable.from(t).concatMap(function(t){return n.loadImage(t,e).map(function(e){return{loadedAsset:e,asset:t}})}).map(function(t){var e=t.loadedAsset,i=t.asset;return{style:n.sanitizer.bypassSecurityTrustStyle(i.path),data:e}}).toArray()},t.prototype.loadSounds=function(t,e){var n=this;return void 0===e&&(e=!0),a.Observable.from(t).concatMap(function(t){return n.loadSound(t,e)}).toArray()},t.prototype.getLoadedImageData=function(t){return this.cache.get(t)},t.prototype.getLoadedSoundData=function(t){return this.cache.get(t)},t.prototype.pathsToAssets=function(t){return t.map(function(t){return{path:t}})},t.prototype.loadImage=function(t,e){var n=this,i=this.checkCache(t,e);if(i)return i;var r=a.Observable.from(this.http.get(t.path,{responseType:o.b.Blob})).map(function(t){return t.blob()}).flatMap(function(t){var e=new Image;return e.src=window.URL.createObjectURL(t),a.Observable.fromEvent(e,"load").map(function(){return e})}).map(function(e){return n.assetFactory.createImage(t,e)}).do(function(e){n.cache.set(t.path,e)}).first().share();return this.inProgress.set(t.path,r),r},t.prototype.loadSound=function(t,e){var n=this,i=this.checkCache(t,e);if(i)return i;var r=a.Observable.of(t.path).concatMap(function(t){var e=new Audio;return e.src=t,console.log(e,e.src,t),a.Observable.fromEvent(e,"canplay").map(function(){return e})}).map(function(e){return n.assetFactory.createSound(t,e)}).first().share();return this.inProgress.set(t.path,r),r},t.prototype.checkCache=function(t,e){return this.cache.has(t.path)&&e?a.Observable.of(this.cache.get(t.path)):this.inProgress.has(t.path)?this.inProgress.get(t.path):void 0},t}();h=u([n.i(i.c)(),p(2,n.i(i.g)(n.i(i.h)(function(){return l}))),f("design:paramtypes",["function"==typeof(d=void 0!==o.c&&o.c)&&d||Object,"function"==typeof(y=void 0!==r.b&&r.b)&&y||Object,l])],h);var l=function(){function t(t,e){this.factory=t,this.sounds=e}return t.prototype.createImage=function(t,e){return this.factory.createImage(t,e)},t.prototype.createSound=function(t,e){return this.sounds.create(t,e)},t}();l=u([p(0,n.i(i.g)(n.i(i.h)(function(){return c.e}))),p(1,n.i(i.g)(n.i(i.h)(function(){return s.a}))),f("design:paramtypes",["function"==typeof(v=void 0!==c.e&&c.e)&&v||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object])],l);var d,y,v,m},NSKu:function(t,e,n){"use strict";function i(){return function(t,e,i){var o=Reflect.getMetadata("design:paramtypes",t);if(o[i]!==l)throw console.log(o[i],l),Error("That's not a SpriteStyle parameter");for(var u=a(t),f=u[i],p=r(f),h=function(e){var i=function(){return c.get(this,p[e])};d++,Object.defineProperty(t.prototype,"test"+d,{get:i}),n.i(s.f)(e)(t.prototype,"test"+d)},y=0,v=Object.keys(p);y<v.length;y++){h(v[y])}}}function r(t){return{"style.type":t+".type","style.position-x":t+".position.x","style.position-y":t+".position.y","style.position-z":t+".position.z","style.rotation-x":t+".rotation.x","style.rotation-y":t+".rotation.y","style.rotation-z":t+".rotation.z","style.image":t+".image","style.width":t+".scale.x","style.height":t+".scale.y","style.depth":t+".scale.z"}}var o=n("I8yv"),a=(n.n(o),n("pMMu")),c=(n.n(a),n("SeUI")),s=(n.n(c),n("3j3K")),u=n("af5m");n.d(e,"b",function(){return l}),e.c=i,e.a=r;var f=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(){this.position=new u.a(0,0,0),this.type="group"}return t}();h=f([n.i(s.c)()],h);var l=function(){function t(){this.position=new u.a(0,0,0),this.rotation=new u.a(0,0,0),this.scale=new u.a(1,1,1),this.type="sprite"}return t}();l=f([n.i(s.c)(),p("design:paramtypes",[])],l);var d=0},NzrQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},P5Ge:function(t,e,n){"use strict";var i=n("3j3K"),r=n("PcUE"),o=(n.n(r),n("lvNX")),a=n("af5m");n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.camera=t}return t.prototype.mouseDown=function(t){var e=this;return void 0===t&&(t=!1),r.Observable.fromEvent(document,"mousedown").map(function(n){return e.vectorify(n,t)}).map(function(t){return{x:t.x,y:t.y,button:f.Left,ctrlKey:!1,shiftKey:!1,altKey:!1}})},t.prototype.mouseUp=function(t){var e=this;return void 0===t&&(t=!1),r.Observable.fromEvent(document,"mouseup").map(function(n){return e.vectorify(n,t)}).map(function(t){return{x:t.x,y:t.y,button:f.Left,ctrlKey:!1,shiftKey:!1,altKey:!1}})},t.prototype.mouseMove=function(t){var e=this;return void 0===t&&(t=!1),r.Observable.fromEvent(document,"mousemove").map(function(n){return e.vectorify(n,t)}).map(function(t){return{x:t.x,y:t.y}})},t.prototype.vectorify=function(t,e){var n=new a.a(t.pageX,t.pageY);if(!e){var i=this.camera.getActive(),r=new a.a(n.x/document.documentElement.clientWidth,n.y/document.documentElement.clientHeight),o=r.scale(i.bounds.size),c=i.bounds.setPosition(a.a.zero()).center();return o.translate(c.scale(-1)).translate(i.position)}return n},t}();u=c([n.i(i.c)(),s("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object])],u);var f;!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Middle=2]="Middle"}(f||(f={}));var p},P8PR:function(t,e,n){"use strict";var i=n("3j3K"),r=n("aavz"),o=n("ZpfB"),a=n("lMdd"),c=n("Sv5R");n.d(e,"a",function(){return f});var s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(){}return t}();f=s([n.i(i.b)({declarations:[],exports:[],imports:[],providers:[{provide:r.f,useClass:o.a},{provide:r.g,useClass:c.a},{provide:r.h,useValue:a.a}]}),u("design:paramtypes",[])],f)},Sv5R:function(t,e,n){"use strict";var i=n("Ml+6");n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.createImage=function(t,e){return new o(t,e)},t}(),o=function(){function t(t,e){this.image=e,this.texture=new i.b(e),this.texture.magFilter=i.c,this.texture.minFilter=i.c,this.texture.needsUpdate=!0,this.material=new i.d({map:this.texture,color:16777215})}return t}()},Ux8a:function(t,e,n){"use strict";var i=n("NKKF");n.d(e,"f",function(){return i.a}),n.d(e,"e",function(){return i.b});var r=n("lvNX");n.d(e,"b",function(){return r.a});var o=n("sczx");n.d(e,"d",function(){return o.a});var a=n("dHl8");n.d(e,"a",function(){return a.a});var c=n("13VP");n.d(e,"g",function(){return c.a});var s=n("8mbX");n.d(e,"i",function(){return s.a});var u=n("FjpF");n.d(e,"j",function(){return u.a});var f=n("P5Ge");n.d(e,"h",function(){return f.a});var p=n("aKBG");n.d(e,"c",function(){return p.a})},WzyT:function(t,e,n){"use strict";n("/zpD")},X5uh:function(t,e,n){"use strict";var i=n("w17Y");n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"e",function(){return i.e}),n.d(e,"f",function(){return i.f}),n.d(e,"g",function(){return i.g}),n.d(e,"h",function(){return i.h}),n.d(e,"i",function(){return i.i}),n.d(e,"j",function(){return i.j}),n.d(e,"k",function(){return i.k}),n.d(e,"l",function(){return i.l}),n.d(e,"m",function(){return i.m}),n.d(e,"n",function(){return i.n})},Y9xR:function(t,e,n){"use strict";var i=n("M6eY");n.d(e,"c",function(){return i.a});var r=n("NSKu");n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b}),n.d(e,"d",function(){return r.c})},YWx4:function(t,e,n){"use strict";var i=n("3j3K"),r=n("GDry");n.d(e,"a",function(){return c});var o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.level=t}return t.prototype.ngOnInit=function(){this.level.startGame()},t}();c=o([n.i(i.e)({selector:"app-root",template:'\n    <app-player></app-player>\n    <app-obstacles [flipped]="false"></app-obstacles>\n    <app-obstacles [flipped]="true"></app-obstacles>\n  '}),a("design:paramtypes",["function"==typeof(s=void 0!==r.a&&r.a)&&s||Object])],c);var s},ZpfB:function(t,e,n){"use strict";var i=n("3j3K"),r=n("aavz"),o=n("3yFB"),a=n("yeps"),c=n("Ml+6");n.d(e,"a",function(){return f});var s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n,i,r){var o=this;this.camera=t,this.viewport=e,this.clock=n,this.assets=i,this.zone=r,this.renderer=new c.e({antialias:!1}),this.scene=new c.f,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.viewport.getWidth(),this.viewport.getHeight()),document.body.appendChild(this.renderer.domElement),this.animate(),window.addEventListener("resize",function(){return o.onWindowResize()},!1),this.onWindowResize()}return t.prototype.createSprite=function(){return new a.a(this.scene,this.assets)},t.prototype.destroySprite=function(t){this.scene.remove(t.getMiddlewareSprite())},t.prototype.createScene=function(){return new o.a},t.prototype.animate=function(){var t=this;this.zone.runOutsideAngular(function(){window.requestAnimationFrame(function(){return t.animate()}),t.render(t.scene,t.camera.getActive().getMiddlewareCamera()),t.zone.run(function(){t.clock.tick.next()})})},t.prototype.render=function(t,e){this.renderer.clear(),this.renderer.render(t,e)},t.prototype.onWindowResize=function(){this.camera.getActive().updateBounds(new r.j(new r.b(0,0),this.viewport.getSize())),this.renderer.setSize(this.viewport.getWidth(),this.viewport.getHeight())},t}();f=s([n.i(i.c)(),u("design:paramtypes",["function"==typeof(p=void 0!==r.d&&r.d)&&p||Object,"function"==typeof(h=void 0!==r.e&&r.e)&&h||Object,"function"==typeof(l=void 0!==r.c&&r.c)&&l||Object,"function"==typeof(d=void 0!==r.k&&r.k)&&d||Object,"function"==typeof(y=void 0!==i.n&&i.n)&&y||Object])],f);var p,h,l,d,y},aKBG:function(t,e,n){"use strict";var i=n("3j3K"),r=n("PcUE"),o=(n.n(r),n("aavz"));n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){var t=this;this.resize$=r.Observable.fromEvent(window,"resize").map(function(){return t.getSize()})}return t.prototype.getSize=function(){return new o.b(window.innerWidth,window.innerHeight)},t.prototype.getWidth=function(){return window.innerWidth},t.prototype.getHeight=function(){return window.innerHeight},t.prototype.relativeX=function(t){return window.innerWidth*t},t.prototype.relativeY=function(t){return window.innerHeight*t},t}();s=a([n.i(i.c)(),c("design:paramtypes",[])],s)},aavz:function(t,e,n){"use strict";var i=n("X5uh");n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"e",function(){return i.e}),n.d(e,"f",function(){return i.f}),n.d(e,"g",function(){return i.g}),n.d(e,"h",function(){return i.h}),n.d(e,"i",function(){return i.i}),n.d(e,"j",function(){return i.j}),n.d(e,"k",function(){return i.k}),n.d(e,"l",function(){return i.l}),n.d(e,"m",function(){return i.m}),n.d(e,"n",function(){return i.n})},af5m:function(t,e,n){"use strict";var i=n("MfGk");n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b});var r=n("79gF");n.d(e,"c",function(){return r.a})},bE0r:function(t,e,n){"use strict";var i=n("3j3K");n.d(e,"a",function(){return o});var r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=function(){function t(){}return t}();o=r([n.i(i.e)({selector:"ngine-group",template:"<ng-content></ng-content>"})],o)},"c+Sf":function(t,e,n){"use strict";var i=n("3j3K"),r=n("aavz");n.d(e,"a",function(){return f});var o,a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};!function(t){t[t.RED=0]="RED",t[t.ORANGE=1]="ORANGE",t[t.YELLOW=2]="YELLOW",t[t.GREEN=3]="GREEN",t[t.BLUE=4]="BLUE",t[t.PURPLE=5]="PURPLE"}(o||(o={}));var u=(d={},d[o.RED]="/assets/img/obstacle_3.png",d[o.ORANGE]="/assets/img/obstacle_5.png",d[o.YELLOW]="/assets/img/obstacle_4.png",d[o.GREEN]="/assets/img/obstacle_1.png",d[o.BLUE]="/assets/img/obstacle_2.png",d[o.PURPLE]="/assets/img/obstacle_6.png",d),f=function(){function t(t,e,n){this.style=t,this.viewport=e,this.assets=n}return t.prototype.setHeight=function(t){this.height=t},t.prototype.setFlipped=function(t){this.style.rotation.y=t?Math.PI:0,this.flipped=t},t.prototype.setType=function(t){var e=this;this.type=t,this.assets.loadImages([{path:u[this.type]}]).subscribe(function(t){var n=t[0];e.style.image=n.style})},t.prototype.setPosition=function(t){var e=this;this.assets.loadImages([{path:u[this.type]}]).subscribe(function(n){var i=n[0],o=r.b.zero().moveX(e.viewport.getWidth()/-2).moveX(i.data.image.width/-2).moveX(t).setY(0).moveY(e.viewport.getHeight()/-2).moveY(e.viewport.relativeY(e.height)).setZ(0);o=e.flipped?o.moveY(i.data.image.height/2):o.moveY(i.data.image.height/-2),e.style.position=o})},t}();f=a([n.i(i.e)({selector:"app-obstacle",template:"",providers:[r.l]}),s(0,n.i(r.m)()),c("design:paramtypes",["function"==typeof(p=void 0!==r.l&&r.l)&&p||Object,"function"==typeof(h=void 0!==r.e&&r.e)&&h||Object,"function"==typeof(l=void 0!==r.k&&r.k)&&l||Object])],f);var p,h,l,d},dHl8:function(t,e,n){"use strict";var i=n("3j3K"),r=n("PcUE");n.n(r);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=function(){function t(){this.tick=new r.Subject}return t}();a=o([n.i(i.c)()],a)},emeE:function(t,e,n){"use strict";var i=n("bE0r");n.d(e,"a",function(){return i.a})},kZql:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={production:!0}},lMdd:function(t,e,n){"use strict";var i=n("aavz"),r=n("Ml+6");n.d(e,"a",function(){return o});var o=function(){function t(t,e,n){this.bounds=t,this.position=new i.b(0,0,0),this.zoom=1,e===i.i.ORTHO&&(console.log(t.height,t.y),this.camera=new r.a(t.width/-2+t.x,t.width/2+t.x,t.height/2+t.y,t.height/-2+t.y)),this.zoom=this.camera.zoom,n&&this.setPosition(n)}return t.prototype.updateBounds=function(t){this.camera.left=t.width/-2+t.x,this.camera.right=t.width/2+t.x,this.camera.top=t.height/2+t.y,this.camera.bottom=t.height/-2+t.y,this.camera.updateProjectionMatrix()},t.prototype.getMiddlewareCamera=function(){return this.camera},t.prototype.setPosition=function(t){this.bounds=this.bounds.setPosition(t),this.position=this.bounds.tl().setZ(t.z),this.camera.position.x=this.position.x,this.camera.position.y=this.position.y,this.position.z&&(this.camera.position.z=this.position.z)},t.prototype.setZoom=function(t){this.camera.zoom=t,this.camera.updateProjectionMatrix(),this.zoom=this.camera.zoom},t}();i.i.ORTHO},lvNX:function(t,e,n){"use strict";var i=n("3j3K"),r=n("af5m"),o=n("aKBG"),a=n("r8PR");n.d(e,"a",function(){return f});var c=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},f=function(){function t(t,e){this.viewport=e,this.cameras=new Map,this.cameraClass=t,this.create("root",new r.b(new r.a(0,0),new r.a(1920,1080)),r.c.ORTHO,new r.a(0,0,10))}return t.prototype.create=function(t,e,n,i){var r=new this.cameraClass(e,n,i);return this.cameras.set(t,r),this.getActive()||this.activate(r),r},t.prototype.activate=function(t){t instanceof this.cameraClass?this.active=t:this.active=this.get(name)},t.prototype.getActive=function(){return this.active},t.prototype.get=function(t){return this.cameras.get(t)},t}();f=c([n.i(i.c)(),u(0,n.i(i.g)(a.c)),s("design:paramtypes",["function"==typeof(p=void 0!==a.d&&a.d)&&p||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object])],f);var p,h},mpmN:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},oKtR:function(t,e,n){"use strict";var i=n("P8PR");n.d(e,"a",function(){return i.a})},r8PR:function(t,e,n){"use strict";var i=n("I3CC");n.d(e,"d",function(){return i.NgineMiddlewareCamera}),n.d(e,"c",function(){return i.b});var r=n("BfZn");n.d(e,"b",function(){return r.a});var o=n("NzrQ");n.d(e,"a",function(){return o.a});var a=n("mpmN");n.d(e,"e",function(){return a.a})},sczx:function(t,e,n){"use strict";var i=n("3j3K"),r=n("PcUE");n.n(r);n.d(e,"a",function(){return s});var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.initMaster()}return t.prototype.initMaster=function(){this.rootContext=new AudioContext},t.prototype.create=function(t,e){return new p(e,this.rootContext.createMediaElementSource(e),this.rootContext)},t.prototype.playAll=function(){this.doAll(function(t){return t.play()})},t.prototype.pauseAll=function(){this.doAll(function(t){return t.pause()})},t.prototype.stopAll=function(){this.doAll(function(t){return t.stop()})},t.prototype.doAll=function(t){var e=[];e.push(this.root);do{var n=e.pop();n instanceof p?t(n):n instanceof f&&n.children.forEach(function(t){return e.push(t)})}while(0!==e.length)},t}();s=a([n.i(i.c)(),c("design:paramtypes",[])],s);var u=function(){function t(t,e,n){this.source=t,this.context=e,n&&Object.assign(this,n),this.initSound()}return t.prototype.initSound=function(){this.panNode=this.context.createStereoPanner(),this.gainNode=this.context.createGain(),this.panNode.pan.value=0,this.gainNode.gain.value=.5,this.source.connect(this.panNode),this.panNode.connect(this.gainNode),this.gainNode.connect(this.context.destination)},t.prototype.setVolume=function(t){if(t<0||t>1)throw new Error("Invalid volume value");this.volume=t,this.gainNode.gain.value=t},t.prototype.setPan=function(t){if(t<-1||t>1)throw new Error("Invalid pan value");this.pan=t,this.panNode.pan.value=t},t}(),f=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.root=e,r.context=n,i&&Object.assign(r,i),r}return o(e,t),e.prototype.addChild=function(t){this.children.push(t)},e.prototype.removeChild=function(t){this.children=this.children.filter(function(e){return e!==t})},e}(u),p=function(t){function e(e,n,i,o){void 0===o&&(o={});var a=t.call(this,n,i,o)||this;return a.element=e,o&&Object.assign(a,o),a.ended$=r.Observable.fromEvent(a.element,"ended").map(function(){return a}),a.time$=r.Observable.fromEvent(a.element,"timeupdate").map(function(){return a.element.currentTime}),a}return o(e,t),e.prototype.connectSound=function(){this.context.createMediaElementSource(this.element).connect(this.panNode)},e.prototype.play=function(){this.element.play()},e.prototype.pause=function(){this.element.pause()},e.prototype.stop=function(){this.pause(),this.setTime(0)},e.prototype.setTime=function(t){if(t<0)throw new Error("Invalid time value");this.element.currentTime=t},e}(u)},w17Y:function(t,e,n){"use strict";var i=n("BoNk");n.d(e,"a",function(){return i.a});var r=n("af5m");n.d(e,"b",function(){return r.a}),n.d(e,"i",function(){return r.c}),n.d(e,"j",function(){return r.b});var o=n("Ux8a");n.d(e,"c",function(){return o.a}),n.d(e,"d",function(){return o.b}),n.d(e,"e",function(){return o.c}),n.d(e,"k",function(){return o.f}),n.d(e,"n",function(){return o.g});var a=n("Y9xR");n.d(e,"l",function(){return a.b}),n.d(e,"m",function(){return a.d});var c=(n("WzyT"),n("r8PR"));n.d(e,"f",function(){return c.a}),n.d(e,"g",function(){return c.e}),n.d(e,"h",function(){return c.c})},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("3j3K"),r=n("O61y"),o=n("Iksp");n("kZql").a.production&&n.i(i.a)(),n.i(r.a)().bootstrapModule(o.a)},xNhL:function(t,e,n){"use strict";var i=n("3j3K"),r=n("aavz"),o=n("c+Sf"),a=n("GDry");n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,i,r){this.viewport=t,this.clock=e,this.resolver=n,this.camera=i,this.level=r,this.MAX_HEIGHT=.4,this.MIN_HEIGHT=.05,this.POS_OFFSET=100,this.MOVE_AMOUNT=5,this.obstacles=[]}return t.prototype.ngOnInit=function(){var t=this;this.obstacleFactory=this.resolver.resolveComponentFactory(o.a),this.level.obstacles$.map(function(e){var n=e[0],i=e[1];return t.flipped?i:n}).subscribe(function(e){t.obstacles.push(t.genObstacle(e)),t.obstacles.length>t.level.NUM_OBSTACLES&&t.obstacles.shift().destroy()})},t.prototype.genObstacle=function(t){var e=this.obstaclesRef.createComponent(this.obstacleFactory);return e.instance.setType(this.getRandomObstacleColor()),e.instance.setHeight(t.y),e.instance.setFlipped(this.flipped),e.instance.setPosition(t.x),e},t.prototype.getRandomObstacleColor=function(){return Math.floor(6*Math.random())},t}();c([n.i(i.Q)(),s("design:type",Boolean)],u.prototype,"flipped",void 0),c([n.i(i._6)("obstacles",{read:i.T}),s("design:type","function"==typeof(f=void 0!==i.T&&i.T)&&f||Object)],u.prototype,"obstaclesRef",void 0),u=c([n.i(i.e)({selector:"app-obstacles",template:"\n    <ngine-group #obstacles></ngine-group>\n  "}),s("design:paramtypes",["function"==typeof(p=void 0!==r.e&&r.e)&&p||Object,"function"==typeof(h=void 0!==r.c&&r.c)&&h||Object,"function"==typeof(l=void 0!==i.S&&i.S)&&l||Object,"function"==typeof(d=void 0!==r.d&&r.d)&&d||Object,"function"==typeof(y=void 0!==a.a&&a.a)&&y||Object])],u);var f,p,h,l,d,y},yeps:function(t,e,n){"use strict";var i=n("aavz"),r=n("Ml+6");n.d(e,"a",function(){return o});var o=function(){function t(t,e){this.scene=t,this.assets=e,this.position=new i.b(0,0,0),this.scale=new i.b(1,1,1),this.absolute=!1}return t.prototype.setPosition=function(t,e){!this.absolute&&e&&(t=t.translate(e)),this.position=t,this.sprite&&this.sprite.position.set(t.x,t.y,t.z)},t.prototype.setRotation=function(t,e){!this.absolute&&e&&(t=t.translate(e)),this.rotation=t,this.sprite&&(this.sprite.material.rotation=t.y)},t.prototype.setImage=function(t){var e=this.assets.getLoadedImageData(t).material;this.imageWidth=e.map.image.width,this.imageHeight=e.map.image.height,this.imageDepth=1,this.sprite?this.sprite.material=e:(this.sprite=new r.g(e),this.scene.add(this.sprite)),this.sprite.scale.set(this.imageWidth,this.imageHeight,1),this.setPosition(this.position),this.setScale(this.scale)},t.prototype.getMiddlewareSprite=function(){return this.sprite},t.prototype.setScale=function(t,e){!this.absolute&&e&&(t=t.scale(e)),this.scale=t,this.sprite&&this.sprite.scale.set(this.imageWidth*this.scale.x,this.imageHeight*this.scale.y,this.imageDepth*this.scale.z)},t}()}},[0]);