{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/obstacles/obstacles.component.ts","webpack:///./src/app/player/player.component.ts","webpack:///./src/environments/environment.ts","webpack:///../ngine/packages/core/public_api.ts","webpack:///../ngine/packages/core/index.ts","webpack:///../ngine/packages/core/src/common/bounds.ts","webpack:///../ngine/packages/core/src/common/camera.ts","webpack:///../ngine/packages/core/src/components/group.component.ts","webpack:///../ngine/packages/core/src/components/index.ts","webpack:///../ngine/packages/core/src/decorators/index.ts","webpack:///../ngine/packages/core/src/decorators/sprite.decorator.ts","webpack:///../ngine/packages/core/src/index.ts","webpack:///../ngine/packages/core/src/middleware/asset.ts","webpack:///../ngine/packages/core/src/middleware/camera.ts","webpack:///../ngine/packages/core/src/middleware/physics.ts","webpack:///../ngine/packages/core/src/middleware/render.ts","webpack:///../ngine/packages/core/src/ngine.module.ts","webpack:///../ngine/packages/core/src/render/element.ts","webpack:///../ngine/packages/core/src/render/renderer.ts","webpack:///../ngine/packages/core/src/services/animation.service.ts","webpack:///../ngine/packages/core/src/services/asset.service.ts","webpack:///../ngine/packages/core/src/services/clock.service.ts","webpack:///../ngine/packages/core/src/services/key.service.ts","webpack:///../ngine/packages/core/src/services/keycode.lib.ts","webpack:///../ngine/packages/core/src/services/mouse.service.ts","webpack:///../ngine/packages/core/src/services/physics.service.ts","webpack:///../ngine/packages/three/index.ts","webpack:///../ngine/packages/three/public_api.ts","webpack:///../ngine/packages/three/src/assets.ts","webpack:///../ngine/packages/three/src/camera.ts","webpack:///../ngine/packages/three/src/index.ts","webpack:///../ngine/packages/three/src/render.ts","webpack:///../ngine/packages/three/src/scene.ts","webpack:///../ngine/packages/three/src/sprite.ts","webpack:///../ngine/packages/three/src/three.module.ts","webpack:///../ngine/packages/core/src/middleware/index.ts","webpack:///../ngine/packages/core/src/common/index.ts","webpack:///./src/app/level.service.ts","webpack:///../ngine/packages/core/src/render/index.ts","webpack:///./src/app/obstacle/obstacle.component.ts","webpack:///../ngine/packages/core/src/render/styles.ts","webpack:///../ngine/packages/core/src/services/camera.service.ts","webpack:///../ngine/packages/core/src/services/index.ts","webpack:///../ngine/packages/core/src/services/sound.service.ts","webpack:///../ngine/packages/core/src/services/viewport.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 137;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 137\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component } from '@angular/core';\nimport { LevelService } from './level.service';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <app-player></app-player>\n    <app-obstacles [flipped]=\"false\"></app-obstacles>\n    <app-obstacles [flipped]=\"true\"></app-obstacles>\n  `,\n})\nexport class AppComponent {\n  constructor (\n    private level: LevelService,\n  ) {}\n\n  ngOnInit () {\n    this.level.startGame();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { CommonModule } from '@angular/common';\n\nimport { NgineModule } from '@ngine/core';\nimport { NgineThreeModule } from '@ngine/three';\n// import { NgineMatterModule } from '@ngine/matter';\n\nimport { AppComponent } from './app.component';\nimport { PlayerComponent } from './player/player.component';\nimport { ObstaclesComponent } from './obstacles/obstacles.component';\nimport { ObstacleComponent } from './obstacle/obstacle.component';\n\nimport { LevelService } from './level.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PlayerComponent,\n    ObstaclesComponent,\n    ObstacleComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    // Don't forget these!\n    NgineModule,\n    NgineThreeModule\n  ],\n  entryComponents: [ ObstacleComponent ],\n  providers: [\n    LevelService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnInit, ComponentFactoryResolver, ComponentFactory, ViewChild, ViewContainerRef, ComponentRef, Input } from '@angular/core';\nimport { ViewportService, ClockService, Vector, CameraService } from '@ngine/core';\nimport { Observable } from 'rxjs/rx';\n\nimport { ObstacleComponent, ObstacleColor } from '../obstacle/obstacle.component';\nimport { LevelService } from '../level.service';\n\n@Component({\n  selector: 'app-obstacles',\n  template: `\n    <ngine-group #obstacles></ngine-group>\n  `,\n})\nexport class ObstaclesComponent implements OnInit {\n  @Input() flipped: boolean;\n  @ViewChild('obstacles', { read: ViewContainerRef }) obstaclesRef: ViewContainerRef;\n\n  private readonly MAX_HEIGHT = 0.4; // Maximum height of our obstacles\n  private readonly MIN_HEIGHT = 0.05; // Minimum height of our obstacles\n  private readonly POS_OFFSET = 100; // Spacing between obstacles\n\n  private readonly MOVE_AMOUNT = 5;\n\n  private destroyStream$;\n  private obstacles: ComponentRef<ObstacleComponent>[] = [];\n  private obstacleFactory: ComponentFactory<ObstacleComponent>;\n\n  constructor(\n    private viewport: ViewportService,\n    private clock: ClockService,\n    private resolver: ComponentFactoryResolver,\n    private camera: CameraService,\n    private level: LevelService,\n  ) { }\n\n  ngOnInit() {\n    this.obstacleFactory = this.resolver.resolveComponentFactory(ObstacleComponent);\n\n    this.level.obstacles$\n      .map(([bottom, top]) => (this.flipped) ? top : bottom)\n      .subscribe((position) => {\n        this.obstacles.push(this.genObstacle(position));\n        if (this.obstacles.length > this.level.NUM_OBSTACLES) {\n          this.obstacles.shift().destroy();\n        }\n      });\n  }\n\n  private genObstacle (position: Vector) {\n    const ref = this.obstaclesRef.createComponent(this.obstacleFactory);\n    ref.instance.setType(this.getRandomObstacleColor());\n    ref.instance.setHeight(position.y);\n    ref.instance.setFlipped(this.flipped);\n    ref.instance.setPosition(position.x);\n\n    return ref;\n  }\n\n  private getRandomObstacleColor (): ObstacleColor {\n    const i = Math.floor(Math.random() * (5 + 1));\n    return i;\n  }\n\n}\n\ninterface Obstacle {\n  type: ObstacleColor;\n  height: number;\n  position?: number;\n  defaultPosition: number;\n  layer: number;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/obstacles/obstacles.component.ts","import { Component, OnInit } from '@angular/core';\nimport { AssetService, KeyService, SpriteStyle, StyleBinding, ViewportService, ClockService } from '@ngine/core';\nimport { Observable } from 'rxjs/rx';\n\nimport { LevelService } from '../level.service';\n\n@Component({\n  selector: 'app-player',\n  template: ``,\n  providers: [ SpriteStyle ],\n})\nexport class PlayerComponent implements OnInit {\n\n  private readonly RELATIVE_SIZE = 0.025;\n\n  private readonly ACCELARATION = 0.001;\n  private readonly MAX_VELOCITY = 0.01;\n  private readonly GRAVITY = -0.001;\n\n  constructor(\n    private assets: AssetService,\n    private keys: KeyService,\n    private viewport: ViewportService,\n    private clock: ClockService,\n    private level: LevelService,\n    @StyleBinding() private style: SpriteStyle,\n  ) { }\n\n  ngOnInit() {\n    // this.clock.tick.subscribe(() => {\n    //   this.style.position.x += 5;\n    // });\n    this.level.position$.subscribe((x) => {\n      this.style.position.x = x;\n    });\n\n    this.assets\n      .loadImages([ { path: '/ngine-tutorial/demo/assets/img/player.png' } ])\n      .subscribe(([playerImage]) => {\n        this.style.image = playerImage.style;\n        const size = this.viewport.relativeY(this.RELATIVE_SIZE) /\n            playerImage.data.image.height;\n        this.style.scale = this.style.scale.setX(size).setY(size);\n\n        this.style.position = this.style.position\n          .setY(0)\n          .setZ(5);\n      });\n\n    const acceleration$ = Observable.merge(\n      this.keys.keyDown.get('space').map(() => this.ACCELARATION),\n      this.keys.keyUp.get('space').map(() => this.GRAVITY)\n    ).startWith(this.GRAVITY);\n\n    const position$ = this.level.accelerateify(\n      <any> this.clock.tick,\n      acceleration$,\n      this.MAX_VELOCITY,\n      -0.5,\n      0.5,\n      0\n    );\n\n    position$\n      .takeUntil(this.level.gameOver$)\n      .subscribe((position) => {\n        this.style.position.y = this.viewport.relativeY(position);\n      });\n\n    this.level.position$\n      .map((x) => x + this.viewport.relativeX(0.5))\n      .withLatestFrom(\n        position$.map((x) => x + 0.5),\n        this.level.obstacles$.scan((acc, current) => {\n          return [...acc, current].slice(this.level.NUM_OBSTACLES * -1);\n        }, [])\n      )\n      .filter(([positionX, positionY, obstacles]) => {\n        const matches = obstacles.filter(([bottomObstacle, topObstacle]) => {\n          return (\n            positionX > bottomObstacle.x &&\n            positionX < (bottomObstacle.x + this.level.OBSTACLE_OFFSET)\n          ) && (\n            positionY < (bottomObstacle.y) ||\n            positionY > (topObstacle.y)\n          );\n        });\n        return matches.length > 0;\n      })\n      .subscribe(() => {\n        this.level.gameOver();\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/player/player.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","export * from './src';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/public_api.ts","export * from './public_api';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/index.ts","export class Rectangle {\n  constructor (public position: Vector, public size: Vector) {}\n\n  setPosition(position: Vector) {\n    return new Rectangle(position, this.size);\n  }\n\n  setSize(size: Vector) {\n    return new Rectangle(this.position, size);\n  }\n\n  tl () {\n    return new Vector(this.x, this.y);\n  }\n\n  tr () {\n    return new Vector(this.x + this.width, this.y);\n  }\n\n  bl () {\n    return new Vector(this.x, this.y + this.height);\n  }\n\n  br () {\n    return new Vector(this.x + this.width, this.y + this.height);\n  }\n\n  center () {\n    return new Vector(this.x + this.width / 2, this.y + this.height / 2);\n  }\n\n  get width () {\n    return this.size.x;\n  }\n\n  get height () {\n    return this.size.y;\n  }\n\n  get x () {\n    return this.position.x;\n  }\n\n  get y () {\n    return this.position.y;\n  }\n}\n\n\nexport class Circle {\n  public diameter: number;\n\n  constructor (public x: number, public y: number, public radius: number) {\n    this.diameter = this.radius * 2;\n  }\n}\n\nexport type Bounds = Rectangle | Circle;\n\nexport class Vector {\n  static zero () {\n    return new Vector(0, 0, 0);\n  }\n\n  static identity () {\n    return new Vector(1, 1, 1);\n  }\n\n  constructor (public x: number, public y: number, public z?: number) {}\n\n  setX (val: number): Vector {\n    return new Vector(val, this.y, this.z);\n  }\n\n  setY (val: number): Vector {\n    return new Vector(this.x, val, this.z);\n  }\n\n  setZ (val: number): Vector {\n    return new Vector(this.x, this.y, val);\n  }\n\n  moveX (val: number): Vector {\n    return new Vector(this.x + val, this.y, this.z);\n  }\n\n  moveY (val: number): Vector {\n    return new Vector(this.x, this.y + val, this.z);\n  }\n\n  moveZ (val: number): Vector {\n    return new Vector(this.x, this.y, this.z + val);\n  }\n\n  translate (delta: Vector) {\n    return new Vector(this.x + delta.x, this.y + delta.y, this.z + delta.z);\n  }\n\n  scale (delta: Vector | number) {\n    if (delta instanceof Vector)\n      return new Vector(this.x * delta.x, this.y * delta.y, this.z * delta.z);\n\n    return new Vector(this.x * delta, this.y * delta, this.z & delta);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/common/bounds.ts","export enum CameraType {\n  ORTHO = 1\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/common/camera.ts","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'ngine-group',\n  template: `<ng-content></ng-content>`,\n})\nexport class GroupComponent {}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/components/group.component.ts","export * from './group.component';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/components/index.ts","export * from './sprite.decorator';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/decorators/index.ts","import {\n  ChangeDetectionStrategy,\n  AnimationEntryMetadata,\n  ViewEncapsulation,\n  Provider,\n  Type,\n  Component,\n  HostBinding\n} from '@angular/core';\n\nimport { SpriteStyle, StyleBinding, getSpriteStyleMap } from '../render';\n\nconst STYLE_KEYWORD = 'style';\n\nexport function Sprite(config: SpriteConfig, styleKeyword: string = STYLE_KEYWORD) {\n  return function (target) {\n    // StyleBinding()(target.prototype.constructor, STYLE_KEYWORD);\n    // HostBinding(sprite)\n\n    if (!config.template) {\n      config.template = '';\n    }\n    const styleMap = getSpriteStyleMap(styleKeyword);\n    const hostifiedStyleMap = {};\n    for (let styleKey of Object.keys(styleMap)) {\n        hostifiedStyleMap[`[${styleKey}]`] = styleMap[styleKey];\n    }\n    config.host = Object.assign({}, hostifiedStyleMap, config.host);\n    config.providers = [...(config.providers || []), SpriteStyle];\n\n    Component(config)(target);\n\n    return target;\n  };\n}\n\nexport interface SpriteType {\n  style: SpriteStyle;\n};\n\n\nexport interface SpriteConfig {\n  selector?: string;\n  inputs?: string[];\n  outputs?: string[];\n  properties?: string[];\n  events?: string[];\n  host?: {\n      [key: string]: string;\n  };\n  providers?: any[];\n  exportAs?: string;\n  moduleId?: string;\n  queries?: {\n      [key: string]: any;\n  };\n  viewProviders?: any[];\n  changeDetection?: ChangeDetectionStrategy;\n  templateUrl?: string;\n  template?: string;\n  // styleUrls?: string[];\n  // styles?: string[];\n  animations?: AnimationEntryMetadata[];\n  directives?: Array<Type<any> | any[]>;\n  pipes?: Array<Type<any> | any[]>;\n  encapsulation?: ViewEncapsulation;\n  interpolation?: [string, string];\n  precompile?: Array<Type<any> | any[]>;\n}\n\ninterface ISprite {\n  style: SpriteStyle;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/decorators/sprite.decorator.ts","export * from './ngine.module';\nexport * from './common';\nexport * from './services';\nexport * from './render';\nexport * from './decorators';\nexport * from './middleware';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/index.ts","export interface NgineMiddlewareAssetFactory {\r\n  createSound?(asset: Asset, sound: HTMLAudioElement): CachedSound;\r\n}\r\n\r\nexport abstract class NgineMiddlewareAssetFactory {\r\n  abstract createImage(asset: Asset, image: HTMLImageElement): CachedImage;\r\n}\r\n\r\nexport interface Asset {\r\n  path: string;\r\n};\r\n\r\nexport interface CachedImage {\r\n  texture: any;\r\n  material: any;\r\n  image: any;\r\n}\r\n\r\nexport interface CachedSound {\r\n  sound: any;\r\n}\r\n\r\nexport type CachedData = CachedImage | CachedSound;\r\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/middleware/asset.ts","import { OpaqueToken } from '@angular/core';\nimport { Vector, Rectangle } from '../common';\n\nexport interface NgineMiddlewareCamera {\n  position: Vector;\n  bounds: Rectangle;\n  zoom: number;\n  setPosition(point: Vector);\n  updateBounds(bounds: Rectangle);\n  getMiddlewareCamera();\n  setZoom(zoom: number);\n}\n\nexport let CAMERA_CLASS = new OpaqueToken('ngine.cameraClass');\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/middleware/camera.ts","import { Subject, Observable } from 'rxjs/rx';\nimport { Bounds, Vector } from '../common';\n\n\nexport abstract class NgineMiddlewarePhysics {\n  abstract create(bounds: Bounds, options: PhysicsOptions): Body;\n  abstract remove(body: Body): void;\n  abstract update(): void;\n  abstract createCollisionGroup(name?: string): CollisionGroup;\n  abstract getCollisionGroup(name: string): CollisionGroup;\n  abstract removeCollisionGroup(name: string): void;\n}\n\nexport abstract class Body {\n  public position$: Observable<Vector>;\n  abstract getNativeBody(): any;\n  abstract setVelocity(velocity: Vector): void;\n  abstract translate(translation: Vector): void;\n  abstract addCollisionGroup(group: CollisionGroup): void;\n  abstract removeCollisionGroup(group: CollisionGroup): void;\n}\n\nexport abstract class CollisionGroup {\n  public collision$: Observable<Body[]> = new Observable<Body[]>();\n  // public collisions: NgineMiddlewareCollisionGroup[] = [];\n  abstract addBody(body: Body): void;\n  abstract getBodies(): Body[];\n}\n\nexport interface PhysicsOptions {\n  drawRotation?: boolean;\n  static?: boolean;\n  friction?: number;\n  inertia?: number;\n  frictionAir?: number;\n};\n\n\n// export abstract class NgineMiddlewareBody {\n//   abstract getNativeBody(): any;\n//   abstract setVelocity(velocity: Vector): void;\n//   abstract translate(translation: Vector): void;\n//   abstract addCollisionGroup(group: NgineMiddlewareCollisionGroup): void;\n//   abstract removeCollisionGroup(group: NgineMiddlewareCollisionGroup): void;\n// }\n\n// // public collision$: Subject<Body[]> = new Subject<Body[]>();\n// export abstract class NgineMiddlewareCollisionGroup {\n//   // public collisions: NgineMiddlewareCollisionGroup[] = [];\n//   abstract addBody(body: NgineMiddlewareBody): void;\n//   abstract getBodies(): NgineMiddlewareBody[];\n// }\n\n// export interface NgineMiddlewarePhysicsOptions {\n//   drawRotation?: boolean;\n//   static?: boolean;\n//   friction?: number;\n//   inertia?: number;\n//   frictionAir?: number;\n// };\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/middleware/physics.ts","import { Vector } from '../common';\n\nexport abstract class NgineRenderMiddleware {\n  abstract createSprite(): NgineMiddlewareSprite;\n  abstract destroySprite(sprite: NgineMiddlewareSprite);\n  abstract createScene(): NgineMiddlewareScene;\n}\n\nexport interface NgineMiddlewareSprite {\n  setPosition(position: Vector, parentPosition?: Vector);\n  setRotation(position: Vector, parentRotation?: Vector);\n  setImage(image: string);\n  setScale(scale: Vector, parentScale?: Vector);\n}\n\nexport interface NgineMiddlewareScene {}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/middleware/render.ts","import { NgModule, RendererFactory2 } from '@angular/core';\n\nimport { NgineRendererFactory, SpriteStyle } from './render';\nimport { NgineRenderMiddleware } from './middleware';\n\nimport {\n  SoundService,\n  AssetService,\n  AssetFactoryService,\n  KeyService,\n  CameraService,\n  ClockService,\n  PhysicsService,\n  AnimationService,\n  MouseService,\n  ViewportService,\n} from './services';\nimport { GroupComponent } from './components';\n\n\nexport function rendererFactoryFactory (middleware: NgineRenderMiddleware) {\n  return new NgineRendererFactory(middleware);\n}\n\n\n@NgModule({\n  declarations: [\n    GroupComponent,\n  ],\n  exports: [\n    GroupComponent,\n  ],\n  imports: [],\n  schemas: [ ],\n  providers: [\n    SoundService,\n    AssetFactoryService,\n    AssetService,\n    CameraService,\n    KeyService,\n    MouseService,\n    ClockService,\n    SpriteStyle,\n    // { provide: SpriteStyle, useFactory: () => new SpriteStyle() },\n    PhysicsService,\n    AnimationService,\n    ViewportService,\n    // { provide: RendererFactory2, useClass: NgineRendererFactory },\n    {\n      provide: RendererFactory2,\n      useFactory: rendererFactoryFactory,\n      deps: [ NgineRenderMiddleware ]\n    },\n  ]\n})\nexport class NgineModule {\n  constructor() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/ngine.module.ts","import { Style, SpriteStyle, GameObjectType } from './styles';\nimport { NgineRenderMiddleware, NgineMiddlewareSprite } from '../middleware';\nimport { Vector } from '../common';\n\nexport class NgineElement {\n  private type: GameObjectType = 'group';\n\n  private sprite: NgineMiddlewareSprite;\n  private spriteStyles: SpriteStyle;\n\n  private children: NgineElement[] = [];\n\n  constructor(\n    private nodeName: string,\n    private middleware: NgineRenderMiddleware,\n    private parent?: NgineElement\n  ) {}\n\n  toString() {\n    return '<' + this.nodeName + '>';\n  }\n\n  setStyle (style: string, val: string) {\n    if (val === null || val === undefined) return;\n\n    if (style === 'type') {\n      this.type = val as GameObjectType;\n      this.setType('sprite');\n    }\n\n    if (this.type === 'sprite') {\n      const styles = this.spriteStyles;\n      const gameObject = this.sprite;\n      switch (style) {\n        case 'position-x':\n          styles.position.x = +val;\n          this.updatePosition();\n          break;\n        case 'position-y':\n          styles.position.y = +val;\n          this.updatePosition();\n          break;\n        case 'position-z':\n          styles.position.z = +val;\n          this.updatePosition();\n          break;\n\n\n        case 'rotation-x':\n          styles.rotation.x = +val;\n          this.updateRotation();\n          break;\n        case 'rotation-y':\n          styles.rotation.y = +val;\n          this.updateRotation();\n          break;\n        case 'rotation-z':\n          styles.rotation.z = +val;\n          this.updateRotation();\n          break;\n\n        case 'image':\n          styles.image = val as string;\n          gameObject.setImage(styles.image as string);\n          break;\n\n        case 'width':\n          styles.scale.x = +val;\n          this.updateScale();\n          break;\n        case 'height':\n          styles.scale.y = +val;\n          this.updateScale();\n          break;\n        case 'depth':\n          styles.scale.z = +val;\n          this.updateScale();\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  getScale (): Vector {\n    if (this.spriteStyles) {\n      return this.spriteStyles.scale;\n    }\n    return new Vector(1, 1, 1);\n  }\n\n  getPosition (): Vector {\n    if (this.spriteStyles) {\n      return this.spriteStyles.position;\n    }\n    return new Vector(0, 0, 0);\n  }\n\n  getRotation (): Vector {\n    if (this.spriteStyles) {\n      return this.spriteStyles.rotation;\n    }\n    return new Vector(0, 0, 0);\n  }\n\n  updatePosition () {\n    if (this.sprite) {\n      if (this.parent) {\n        this.sprite.setPosition(this.getPosition(), this.parent.getPosition());\n      } else {\n        this.sprite.setPosition(this.getPosition());\n      }\n\n      this.children.forEach((child) => {\n        child.updatePosition();\n      });\n    }\n  }\n\n  updateRotation () {\n    if (this.sprite) {\n      if (this.parent) {\n        this.sprite.setRotation(this.getRotation(), this.parent.getRotation());\n      } else {\n        this.sprite.setRotation(this.getRotation());\n      }\n\n      this.children.forEach((child) => {\n        child.updateRotation();\n      });\n    }\n  }\n\n  updateScale () {\n    if (this.sprite) {\n      if (this.parent) {\n        this.sprite.setScale(this.getScale(), this.parent.getScale());\n      } else {\n        this.sprite.setScale(this.getScale());\n      }\n\n      this.children.forEach((child) => {\n        child.updateScale();\n      });\n    }\n  }\n\n  setParent (parent: NgineElement) {\n    this.parent = parent;\n  }\n\n  remove () {\n    this.setParent(null);\n    this.middleware.destroySprite(this.sprite);\n  }\n\n  appendChild (child: NgineElement) {\n    console.log('apppppend');\n    child.setParent(this);\n    this.children.push(child);\n  }\n\n  removeChild (child: NgineElement) {\n    child.remove();\n    // const match = this.children.filter((x) => x === child);\n    // console.log('yoooo', this.children, child);\n    // if (match.length === 1) {\n    //   match[0].remove();\n    // }\n\n    // this.children = this.children.filter((x) => x !== child);\n  }\n\n  setType (type: GameObjectType) {\n    if (type === 'sprite') {\n      this.sprite = this.middleware.createSprite();\n      this.spriteStyles = new SpriteStyle();\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/render/element.ts","import {\n  Injectable,\n  Renderer2,\n  RendererFactory2,\n  RendererType2,\n  RendererStyleFlags2\n} from '@angular/core';\n\nimport { NgineElement } from './element';\nimport { NgineRenderMiddleware } from '../middleware';\n\n@Injectable()\nexport class NgineRendererFactory implements RendererFactory2 {\n  private rendererByCompId = new Map<string, Renderer2>();\n  private defaultRenderer: Renderer2;\n\n  constructor(\n    private renderMiddleware: NgineRenderMiddleware,\n  ) {\n    this.defaultRenderer = new NgineRenderer(renderMiddleware);\n  };\n\n  createRenderer(element: any, type: RendererType2): Renderer2 {\n    if (!element || !type) {\n      return this.defaultRenderer;\n    }\n\n    let renderer = this.defaultRenderer;\n    this.rendererByCompId.set(type.id, renderer);\n\n    return renderer;\n  }\n}\n\ninterface BrowserNgineElement {\n  ngine: NgineElement;\n  dom: Element;\n}\n\nclass NgineRenderer implements Renderer2 {\n  data: {[key: string]: any} = Object.create(null);\n  destroyNode: null;\n\n  constructor(\n    private renderMiddleware: NgineRenderMiddleware,\n  ) {}\n\n  destroy(): void {}\n\n  createElement(name: string, namespace?: string): any {\n    // console.log('hello', name);\n    return Object.assign(document.createElement(name), {\n        ngine: new NgineElement(name, this.renderMiddleware),\n    });\n      // ngine: new NgineElement(name, this.renderMiddleware)\n    // };\n  }\n\n  createComment(value: string): any {\n    return document.createComment(value);\n  }\n\n  createText(value: string): any {\n    return document.createTextNode(value);\n  }\n\n  appendChild(parent: any, newChild: any): void {\n    // console.log(parent, newChild);\n    if (newChild) {\n      // console.log(parent);\n      parent.appendChild(newChild);\n      if (newChild.ngine) {\n        parent.ngine.appendChild(newChild.ngine);\n      }\n    }\n  }\n\n  insertBefore(parent: any, newChild: any, refChild: any): void {\n    if (parent) {\n      parent.insertBefore(newChild, refChild);\n    }\n  }\n\n  removeChild(parent: any, oldChild: any): void {\n    if (parent) {\n      parent.removeChild(oldChild);\n      // if (parent.ngine && oldChild.ngine) {\n      //   parent.ngine.removeChild(oldChild.ngine);\n      // }\n      if (oldChild.ngine) {\n        oldChild.ngine.remove();\n      }\n    }\n  }\n\n  selectRootElement(selectorOrNode: string|any): any {\n    // console.log('selectRootElement - what do?', selectorOrNode);\n    let el: any = typeof selectorOrNode === 'string' ? document.querySelector(selectorOrNode) :\n                                                       selectorOrNode;\n    if (!el) {\n      throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\n    }\n    el.textContent = '';\n    // return el;\n    return Object.assign(el, {\n      ngine: new NgineElement(selectorOrNode, this.renderMiddleware)\n    });\n  }\n\n  parentNode(node: any): any {\n    // console.log(node);\n    return node.parentNode;\n  }\n\n  nextSibling(node: any): any {\n    // console.log(node);\n    return node.nextSibling;\n  }\n\n  setAttribute(el: any, name: string, value: string, namespace?: string): void {\n    // if (namespace) {\n    //   name = `${namespace}:${name}`;\n    //   const namespaceUri = NAMESPACE_URIS[namespace];\n    //   if (namespaceUri) {\n    //     el.setAttributeNS(namespaceUri, name, value);\n    //   } else {\n    //     el.setAttribute(name, value);\n    //   }\n    // } else {\n    //   el.setAttribute(name, value);\n    // }\n  }\n\n  removeAttribute(el: any, name: string, namespace?: string): void {\n    console.log('removeAttribute - what do?');\n    // if (namespace) {\n    //   const namespaceUri = NAMESPACE_URIS[namespace];\n    //   if (namespaceUri) {\n    //     el.removeAttributeNS(namespaceUri, name);\n    //   } else {\n    //     el.removeAttribute(`${namespace}:${name}`);\n    //   }\n    // } else {\n    //   el.removeAttribute(name);\n    // }\n  }\n\n  addClass(el: any, name: string): void {\n    // el.classList.add(name);\n  }\n\n  removeClass(el: any, name: string): void {\n    // el.classList.remove(name);\n  }\n\n  setStyle(el: BrowserNgineElement, style: string, value: any, flags: RendererStyleFlags2): void {\n    // if (style === 'foo') {\n    // console.log('what do setStyle - ', style, value, Number.isInteger(value));\n    // }\n    if (el.ngine) {\n      el.ngine.setStyle(style, value);\n    }\n    // if (flags & RendererStyleFlags2.DashCase) {\n    //   el.style.setProperty(\n    //       style, value, !!(flags & RendererStyleFlags2.Important) ? 'important' : '');\n    // } else {\n    //   el.style[style] = value;\n    // }\n  }\n\n  removeStyle(el: any, style: string, flags: RendererStyleFlags2): void {\n    // console.log('what do remove - ', style);\n    // el.setStyle(style, value);\n    // if (flags & RendererStyleFlags2.DashCase) {\n    //   el.style.removeProperty(style);\n    // } else {\n    //   // IE requires '' instead of null\n    //   // see https://github.com/angular/angular/issues/7916\n    //   el.style[style] = '';\n    // }\n  }\n\n  setProperty(el: any, name: string, value: any): void {\n    console.log('imma set the prop');\n    // checkNoSyntheticProp(name, 'property');\n    // el[name] = value;\n  }\n\n  setValue(node: any, value: string): void {\n    node.nodeValue = value;\n  }\n\n  listen(target: 'window'|'document'|'body'|any, event: string, callback: (event: any) => boolean):\n() => void {\n    return () => null;\n    // checkNoSyntheticProp(event, 'listener');\n    // if (typeof target === 'string') {\n    //   return <() => void>this.eventManager.addGlobalEventListener(\n    //       target, event, decoratePreventDefault(callback));\n    // }\n    // return <() => void>this.eventManager.addEventListener(\n    //            target, event, decoratePreventDefault(callback)) as() => void;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/render/renderer.ts","import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs/rx';\n\n/**\n * Creates frame-based animations.\n * `AnimationService` is available as an injectable class.\n *\n * ### Example\n * ```typescript\n * @Component({...})\n * class PlayerComponent {\n *  constructor (assets: AssetService, animation: AnimationService) {\n *    this.assets.loadImages(myFramePaths).subscribe((frames) => {\n *      const walkCycle = animation.interpolate(\n *        animation.weightEqually(frames),\n *        1000\n *      );\n *      walkCycle.play();\n *      walkCycle.frame$.subscribe((frame) => {\n *        this.style.image = frame.style;\n *      });\n *    });\n *  }\n * }\n * ```\n */\n@Injectable()\nexport class AnimationService {\n  constructor () {}\n\n  /**\n   * Takes the given {@link Weight} objects and a millisecond duration and\n   * returns an {@link Animation} class which can be used to play over those\n   * objects. Optionally `loop`.\n   */\n  interpolate<T> (\n    items: Weight<T>[],\n    duration: number,\n    loop: boolean = false\n  ): Animation<T> {\n    return new Animation(items, duration, loop);\n  }\n\n  /**\n   * Helper method to create {@link Weight} objects for the given `items` which\n   * are weighted equally.\n   */\n  weightEqually<T> (items: T[]): Weight<T>[] {\n    return items.map((item) => ({\n      value: item,\n      weight: 1 / items.length\n    }));\n  }\n}\n\n/**\n * Controls a frame-based animation.\n */\nexport class Animation<T> {\n  /**\n   * Subscribe to this Observable to recieve events whenever a frame should\n   * be displayed.\n   */\n  public frame$: Observable<T>;\n\n  private pause$ = new Subject<boolean>();\n  private stop$ = new Subject<boolean>();\n  private startFrame$ = new Subject<number>();\n\n  constructor (\n    private items: Weight<T>[],\n    private duration: number,\n    private loop: boolean\n  ) {\n    const frameTimingsFactory = (startFrame) => {\n      return Observable\n        .from(this.items)\n        .skip(startFrame)\n        .concatMap((item) => {\n          return Observable\n            .interval(item.weight * this.duration)\n            .first()\n            .map(() => item.value);\n        });\n    };\n\n    const loopFrameTimings = this.startFrame$.startWith(0)\n      .switchMap((startFrame) => frameTimingsFactory(startFrame).concat(\n        frameTimingsFactory(0).repeat()\n      ));\n\n    this.frame$ = this.pause$\n      .switchMap((isPaused) => isPaused ? Observable.never() : loopFrameTimings);\n  }\n\n  /**\n   * Tell `frame$` to begin emitting frames.\n   */\n  play () {\n    this.pause$.next(false);\n  }\n\n  /**\n   * Tell `frame$` to stop emitting frames (does not change the current frame).\n   */\n  pause () {\n    this.pause$.next(true);\n  }\n\n  /**\n   * Tell `frame$` to stop emitting frames and reset the current frame to 0.\n   */\n  stop () {\n    this.stop$.next(true);\n    this.startFrame$.next(0);\n    this.pause$.next(true);\n  }\n\n  /**\n   * Tell `frame$` to jump to the given `frame` number.\n   */\n  setFrame (frame: number) {\n    this.startFrame$.next(frame);\n  }\n}\n\n/**\n * Determines how frames will be weighted over the duration in\n * {@link AnimationService}'s `interpolate`. Generic.\n */\nexport interface Weight<T> {\n  value: T;\n  weight: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/animation.service.ts","import { Injectable, Inject, forwardRef } from '@angular/core';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\nimport { Http, ResponseContentType } from '@angular/http';\nimport { Observable } from 'rxjs/rx';\n\nimport {\n  NgineMiddlewareAssetFactory,\n  CachedImage,\n  CachedSound,\n  CachedData,\n  Asset\n} from '../middleware';\n\nimport { SoundService, Sound } from './sound.service';\n\n/**\n * Loads and caches in game assets (sounds/image).\n * `AssetService` is available as an injectable class. It's 'load' methods\n * return Observables which can be subscribed to.\n *\n * ### Example\n * ```typescript\n * @Component({...})\n * class PlayerComponent {\n *  constructor (assets: AssetService) {\n *    this.assets.loadImages([{ path: 'foo.png' }]).subscribe(([fooAsset]) => {\n *      this.style.image = fooAsset.style;\n *    });\n *  }\n * }\n * ```\n *\n * ### Example\n * ```typescript\n * @Injectable()\n * export class LevelResolver implements Resolve<any> {\n *   constructor (private assets: AssetService) {}\n *\n *   resolve (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n *     return this.assets.loadImages([{ path: 'preloaded-asset.png' }]);\n *   }\n * }\n * ```\n */\n@Injectable()\nexport class AssetService {\n  private cache = new Map<string, any>();\n  private inProgress = new Map<string, Observable<any>>();\n\n  constructor(\n    private http: Http,\n    private sanitizer: DomSanitizer,\n    @Inject(\n      forwardRef(() => AssetFactoryService)\n    ) private assetFactory: AssetFactoryService,\n    // private zone: NgZone,\n  ) { }\n\n  /**\n   * Fetches the given array of `ImageAsset`s and places them in the asset cache\n   */\n  loadImages(assets: ImageAsset[], useCache: boolean = true):\n    Observable<LoadedImageAsset[]> {\n    return Observable\n      .from(assets)\n      .concatMap((asset) => this\n        .loadImage(asset, useCache)\n        .map((loadedAsset) => ({ loadedAsset, asset }))\n      )\n      .map(({ loadedAsset, asset }) => ({\n        style: this.sanitizer.bypassSecurityTrustStyle(asset.path),\n        data: loadedAsset\n      }))\n      .toArray();\n  }\n\n  /**\n   * Fetches the given array of `SoundAsset`s and places them in the asset cache\n   */\n  loadSounds(assets: SoundAsset[], useCache: boolean = true):\n    Observable<Sound[]> {\n    return Observable\n      .from(assets)\n      .concatMap((asset) => this\n        .loadSound(asset, useCache)\n      )\n      .toArray();\n  }\n\n  getLoadedImageData(style: string): CachedImage {\n    return (this.cache.get(style) as CachedImage);\n  }\n\n  getLoadedSoundData(style: string): CachedSound {\n    return (this.cache.get(style) as CachedSound);\n  }\n\n  pathsToAssets (paths: string[]): Asset[] {\n    return paths.map((path) => ({ path }));\n  }\n\n  private loadImage(asset: Asset, useCache: boolean): Observable<CachedImage> {\n    const cache = this.checkCache(asset, useCache);\n    if (cache) return cache;\n\n    const inProgress$ = Observable\n      .from(this.http.get(\n        asset.path,\n        { responseType: ResponseContentType.Blob }\n      ))\n      .map((res) => res.blob())\n      .flatMap((res) => {\n        const image = new Image();\n        image.src = window.URL.createObjectURL(res);\n        return Observable\n          .fromEvent(image, 'load')\n          .map(() => image);\n      })\n      .map((image) => this.assetFactory.createImage(asset, image))\n      .do((data) => { this.cache.set(asset.path, data); })\n      .first()\n      .share();\n\n    this.inProgress.set(asset.path, inProgress$);\n    return inProgress$;\n  }\n\n  private loadSound(asset: Asset, useCache: boolean): Observable<Sound> {\n    const cache = this.checkCache(asset, useCache);\n    if (cache) return cache;\n\n    const inProgress$ = Observable\n      .of(asset.path)\n      .concatMap((path) => {\n        const sound = new Audio();\n        sound.src = path;\n        console.log(sound, sound.src, path);\n        return Observable\n          .fromEvent(sound, 'canplay')\n          .map(() => sound);\n      })\n      .map((sound) => this.assetFactory.createSound(asset, sound))\n      .first()\n      .share();\n\n    this.inProgress.set(asset.path, inProgress$);\n    return inProgress$;\n  }\n\n  private checkCache(asset: Asset, useCache: boolean) {\n    if (this.cache.has(asset.path) && useCache) {\n      return Observable.of(this.cache.get(asset.path));\n    }\n\n    if (this.inProgress.has(asset.path)) {\n      return this.inProgress.get(asset.path);\n    }\n  }\n}\n\nexport interface ImageAsset extends Asset { };\nexport interface SoundAsset extends Asset { };\n\nexport interface LoadedImageAsset {\n  style?: SafeStyle;\n  data: CachedImage;\n}\n\nexport class AssetFactoryService {\n  constructor(\n    @Inject(\n      forwardRef(() => NgineMiddlewareAssetFactory)\n    ) private factory: NgineMiddlewareAssetFactory,\n    @Inject(\n      forwardRef(() => SoundService)\n    ) private sounds: SoundService,\n  ) { }\n\n  createImage(asset: Asset, image: HTMLImageElement): CachedImage {\n    return this.factory.createImage(asset, image);\n  }\n\n  createSound(asset: Asset, sound: HTMLAudioElement): Sound {\n    return this.sounds.create(asset, sound);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/asset.service.ts","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/rx';\n\n/**\n * Contains a `tick` stream that will emit whenever the game renders.\n * `ClockService` is available as an injectable class.\n *\n * ### Example\n * ```typescript\n * @Component({...})\n * class PlayerComponent {\n *  constructor (clock: ClockService) {\n *    clock.tick.subscribe(() =>)\n *      this.style.position.x += 1;\n *    });\n *  }\n * }\n * ```\n */\n@Injectable()\nexport class ClockService {\n  /** Emits whenever the game renders. */\n  public tick = new Subject<any>();\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/clock.service.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/rx';\n\nimport { aliases, codes } from './keycode.lib';\n\n/**\n * Contains event streams for key events.\n * `KeyService` is available as an injectable class. It contains public\n * maps whose values are Observables which can be subscribed to.\n *\n * ### Example\n * ```typescript\n * @Component({...})\n * class PlayerComponent {\n *  constuctor (keys: KeyService) {\n *    keys.keyDown('space').subscribe() => {\n *      this.position.y += 20;\n *    });\n *  }\n * }\n */\n@Injectable()\nexport class KeyService {\n  /**\n   * Map whose values continually emit (at a fixed interval) while a\n   * key is held\n   */\n  public keyActive: Map<string, Observable<KeyboardEvent>> = new Map();\n  /**\n   * Map whose values emit once when a key is pressed\n   */\n  public keyDown: Map<string, Observable<KeyboardEvent>> = new Map();\n  /**\n   * Map whose values emit once when a key is released\n   */\n  public keyUp: Map<string, Observable<KeyboardEvent>> = new Map();\n\n  private opts: KeyServiceOpts = {\n    sendRate: 5 // 60 frames per second\n  };\n\n  constructor() {\n    this.keyDown.set(\n      'any',\n      Observable.fromEvent(document, 'keydown')\n        .map((e: KeyboardEvent) => e)\n    );\n    this.keyUp.set(\n      'any',\n      Observable.fromEvent(document, 'keyup')\n        .map((e: KeyboardEvent) => e)\n    );\n\n    for (let name of Object.keys(codes)) {\n      let code = codes[name];\n\n      this.keyDown.set(\n        name,\n        Observable.fromEvent(document, 'keydown')\n          .filter((e: KeyboardEvent) => e.which === code)\n          .map((e: KeyboardEvent) => e)\n      );\n\n      this.keyUp.set(\n        name,\n        Observable.fromEvent(document, 'keyup')\n          .filter((e: KeyboardEvent) => e.which === code)\n          .map((e: KeyboardEvent) => e)\n      );\n\n      this.keyActive.set(\n        name,\n        this.keyDown.get(name)\n          .exhaustMap((e) => Observable.interval(this.opts.sendRate)\n            .map((x) => e)\n            .takeUntil(this.keyUp.get(name))\n          )\n      );\n\n    }\n  }\n}\n\nexport interface KeyServiceOpts {\n  sendRate?: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/key.service.ts","const keycode = {\n    fromEvent: (e: KeyboardEvent): number => {\n        const keyCode = e.which || e.keyCode || e.charCode;\n        return keyCode;\n    },\n    fromName: (name: string): number => {\n        let foundNamedKey = codes[name.toLowerCase()]\n        if (foundNamedKey) {\n          return foundNamedKey;\n        }\n\n        // check aliases\n        foundNamedKey = aliases[name.toLowerCase()];\n        if (foundNamedKey) {\n          return foundNamedKey;\n        }\n\n        // weird character?\n        if (name.length === 1) {\n          return name.charCodeAt(0);\n        }\n\n        return undefined;\n    },\n    fromCode: (num: number): string => {\n        return names[num];\n    }\n};\n\nexport interface NumMap { [s: string]: number; }\nconst codes: NumMap =  {\n  'backspace': 8,\n  'tab': 9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl': 17,\n  'alt': 18,\n  'pause/break': 19,\n  'caps lock': 20,\n  'esc': 27,\n  'space': 32,\n  'page up': 33,\n  'page down': 34,\n  'end': 35,\n  'home': 36,\n  'left': 37,\n  'up': 38,\n  'right': 39,\n  'down': 40,\n  'insert': 45,\n  'delete': 46,\n  'command': 91,\n  'left command': 91,\n  'right command': 93,\n  'numpad *': 106,\n  'numpad +': 107,\n  'numpad -': 109,\n  'numpad .': 110,\n  'numpad /': 111,\n  'num lock': 144,\n  'scroll lock': 145,\n  'my computer': 182,\n  'my calculator': 183,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n}\n\nconst aliases: NumMap = {\n  'windows': 91,\n  '': 16,\n  '': 18,\n  '': 17,\n  '': 91,\n  'ctl': 17,\n  'control': 17,\n  'option': 18,\n  'pause': 19,\n  'break': 19,\n  'caps': 20,\n  'return': 13,\n  'escape': 27,\n  'spc': 32,\n  'pgup': 33,\n  'pgdn': 34,\n  'ins': 45,\n  'del': 46,\n  'cmd': 91\n}\n\n// lower case chars\nfor (i = 97; i < 123; i++) {\n  codes[String.fromCharCode(i)] = i - 32;\n}\n\n// numbers\nfor (var i = 48; i < 58; i++) {\n  codes[i - 48] = i;\n}\n\n// function keys\nfor (i = 1; i < 13; i++) {\n  codes['f'+i] = i + 111;\n}\n\n// numpad keys\nfor (i = 0; i < 10; i++) {\n  codes['numpad '+i] = i + 96;\n}\n\n\nconst names = {}\n\n// Create reverse mapping\nfor (let i in codes) {\n  names[codes[i]] = i;\n}\n\n// Add aliases\nfor (var alias in aliases) {\n  codes[alias] = aliases[alias]\n}\n\nexport { names, aliases, codes, keycode };\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/keycode.lib.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/rx';\n\nimport { aliases, codes } from './keycode.lib';\nimport { CameraService } from './camera.service';\nimport { Vector } from '../common';\n\n/**\n * Creates event streams for mouse events.\n * `MouseService` is available as an injectable class. It's methods\n * return Observables which can be subscribed to.\n *\n * ### Example\n * ```typescript\n * @Component({...})\n * class CursorComponent {\n *  constuctor (mouse: MouseService) {\n *    mouse.mouseMove().subscribe(({x, y}) => {\n *      this.style.position.x = x;\n *      this.style.position.y = y;\n *    });\n *  }\n * }\n */\n@Injectable()\nexport class MouseService {\n  constructor(\n    private camera: CameraService,\n  ) {}\n\n  /**\n   * Get an Observable representing mousedown events for the game. If\n   * `absolute` is true, return the coordinates relative to the game window.\n   * Otherwise, return them relative to the camera.\n   */\n  mouseDown (absolute: boolean = false): Observable<NgineMouseEvent> {\n    return Observable\n      .fromEvent(document, 'mousedown')\n      .map((e: MouseEvent) => this.vectorify(e, absolute))\n      .map(({x, y}) => ({\n        x, y, button: NgineMouseButton.Left, ctrlKey: false, shiftKey: false, altKey: false,\n      }));\n  }\n\n  /**\n   * Get an Observable representing mouseup events for the game. If\n   * `absolute` is true, return the coordinates relative to the game window.\n   * Otherwise, return them relative to the camera.\n   */\n  mouseUp (absolute: boolean = false): Observable<NgineMouseEvent> {\n    return Observable\n      .fromEvent(document, 'mouseup')\n      .map((e: MouseEvent) => this.vectorify(e, absolute))\n      .map(({x, y}) => ({\n        x, y, button: NgineMouseButton.Left, ctrlKey: false, shiftKey: false, altKey: false,\n      }));\n  }\n\n  /**\n   * Get an Observable representing mousemove events for the game. If\n   * `absolute` is true, return the coordinates relative to the game window.\n   * Otherwise, return them relative to the camera.\n   */\n  mouseMove (absolute: boolean = false): Observable<NgineMouseEvent> {\n    return Observable\n      .fromEvent(document, 'mousemove')\n      .map((e: MouseEvent) => this.vectorify(e, absolute))\n      .map(({x, y}) => ({\n        x, y,\n      }));\n  }\n\n  private vectorify (e: MouseEvent, absolute: boolean): Vector {\n    let pos = new Vector(e.pageX, e.pageY);\n    if (!absolute) {\n      const camera = this.camera.getActive();\n      const scaledPos = new Vector(\n        pos.x / document.documentElement.clientWidth,\n        pos.y / document.documentElement.clientHeight\n      );\n      const relativePos = scaledPos.scale(camera.bounds.size);\n      const cameraMiddle = camera.bounds.setPosition(Vector.zero()).center();\n\n      return relativePos.translate(cameraMiddle.scale(-1)).translate(camera.position);\n    }\n    return pos;\n  }\n}\n\n/**\n * Contains positioning, button information, and modifiers for mouse events\n */\nexport interface NgineMouseEvent {\n  x: number;\n  y: number;\n  button?: NgineMouseButton;\n  ctrlKey?: boolean;\n  shiftKey?: boolean;\n  altKey?: boolean;\n}\n\n/**\n * Which mouse button was pressed (for a mousedown or mouseup event)\n */\nexport enum NgineMouseButton {\n  Left,\n  Right,\n  Middle\n};\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/mouse.service.ts","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/rx';\n\nimport { Vector, Bounds } from '../common';\nimport { NgineMiddlewarePhysics, Body, CollisionGroup, PhysicsOptions } from '../middleware';\n\n/**\n * Manages the game's physics world.\n * `PhysicsService` is available as an injectable class.\n * ### Note\n * You must provide an Ngine physics middleware (e.g. {@link NgineThree}) in\n * your root module to use this class.\n * ```typescript\n * @NgModule({\n *  imports: [ NgineThreeModule, NgineModule ]\n * })\n * ```\n */\n@Injectable()\nexport class PhysicsService {\n  constructor (\n    private physics: NgineMiddlewarePhysics,\n  ) {}\n\n  /**\n   * Create a physics {@link Body} with the given {@link Bounds} and\n   * {@link PhysicsOptions} objects.\n   */\n  create(bounds: Bounds, options: PhysicsOptions): Body {\n    return this.physics.create(bounds, options);\n  };\n\n  /**\n   * Remove the given  {@link Body} from the physics world.\n   */\n  remove (body: Body) {\n    return this.physics.remove(body);\n  }\n\n  /**\n   * Tick the physics world.\n   */\n  update () {\n    this.physics.update();\n  }\n\n  /**\n   * Create a physics  {@link CollisionGroup}. Optionally, provide a unique name\n   * to be able to retrieve this collision group using `getCollisionGroup`.\n   */\n  createCollisionGroup (name?: string): CollisionGroup {\n    return this.physics.createCollisionGroup(name);\n  }\n\n  /**\n   * Remove a {@link CollisionGroup} of the given name.\n   */\n  removeCollisionGroup (name: string) {\n    this.physics.removeCollisionGroup(name);\n  }\n\n  /**\n   * Get a {@link CollisionGroup} of the given name.\n   */\n  getCollisionGroup (name: string) {\n    return this.physics.getCollisionGroup(name);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/physics.service.ts","export * from './public_api';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/index.ts","export * from './src';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/public_api.ts","import { NgineMiddlewareAssetFactory, CachedImage, Asset, CachedSound } from '@ngine/core';\r\nimport * as THREE from 'three';\r\n\r\nexport class NgineThreeAssetFactory implements NgineMiddlewareAssetFactory {\r\n  createImage (asset: Asset, image: HTMLImageElement): CachedImage {\r\n    return new NgineThreeImageAsset(asset, image);\r\n  }\r\n}\r\n\r\nexport class NgineThreeImageAsset implements CachedImage {\r\n  public texture;\r\n  public material;\r\n\r\n  constructor (asset: Asset, public image: HTMLImageElement) {\r\n    this.texture = new THREE.Texture(image);\r\n    this.texture.magFilter = THREE.NearestFilter;\r\n    this.texture.minFilter = THREE.NearestFilter;\r\n    this.texture.needsUpdate = true;\r\n\r\n    this.material = new THREE.SpriteMaterial({\r\n      map: this.texture,\r\n      color: 0xffffff\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/src/assets.ts","import { Rectangle, Vector, CameraType, NgineMiddlewareCamera } from '@ngine/core';\n\nimport * as THREE from 'three';\n\nexport class NgineThreeCamera implements NgineMiddlewareCamera {\n  public position: Vector = new Vector(0, 0, 0);\n  public zoom: number = 1;\n  private camera: THREE.OrthographicCamera;\n\n  constructor (public bounds: Rectangle, type: CameraType, position?: Vector) {\n    if (type === CameraType.ORTHO) {\n      console.log(bounds.height, bounds.y);\n      this.camera = new THREE.OrthographicCamera(\n        bounds.width / -2 + bounds.x,\n        bounds.width / 2  + bounds.x,\n        bounds.height / 2 + bounds.y,\n        bounds.height / -2 + bounds.y,\n      );\n    }\n\n    this.zoom = this.camera.zoom;\n\n    if (position) {\n      this.setPosition(position);\n    }\n  }\n\n  updateBounds (bounds: Rectangle) {\n    this.camera.left = bounds.width / -2 + bounds.x;\n    this.camera.right = bounds.width / 2 + bounds.x;\n    this.camera.top = bounds.height / 2 + bounds.y;\n    this.camera.bottom = bounds.height / -2 + bounds.y;\n    this.camera.updateProjectionMatrix();\n  }\n\n  getMiddlewareCamera () {\n    return this.camera;\n  }\n\n  setPosition (point: Vector) {\n    this.bounds = this.bounds.setPosition(point);\n    this.position = this.bounds.tl().setZ(point.z);\n    this.camera.position.x = this.position.x;\n    this.camera.position.y = this.position.y;\n    if (this.position.z) this.camera.position.z = this.position.z;\n  }\n\n  setZoom (zoom: number) {\n    this.camera.zoom = zoom;\n    this.camera.updateProjectionMatrix();\n    this.zoom = this.camera.zoom;\n  }\n}\n\nexport const THREE_CAMERAS = [ CameraType.ORTHO ];\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/src/camera.ts","export { NgineThreeModule } from './three.module';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/src/index.ts","import { Injectable, NgZone } from '@angular/core';\n\nimport {\n  Rectangle,\n  CameraService,\n  ClockService,\n  ViewportService,\n  Vector,\n  AssetService,\n  NgineRenderMiddleware\n} from '@ngine/core';\n\nimport { NgineThreeScene } from './scene';\nimport { NgineThreeSprite } from './sprite';\n\nimport * as THREE from 'three';\n\n@Injectable()\nexport class NgineThree implements NgineRenderMiddleware {\n  private renderer: THREE.WebGLRenderer = new THREE.WebGLRenderer({\n    antialias: false\n  });\n  private scene: THREE.Scene = new THREE.Scene();\n  private meter;\n\n  constructor (\n    private camera: CameraService,\n    private viewport: ViewportService,\n    private clock: ClockService,\n    private assets: AssetService,\n    private zone: NgZone,\n  ) {\n    this.renderer.setPixelRatio( window.devicePixelRatio );\n    this.renderer.setSize( this.viewport.getWidth(), this.viewport.getHeight() );\n    document.body.appendChild( this.renderer.domElement );\n    this.animate();\n\n    window.addEventListener('resize', () => this.onWindowResize(), false);\n    this.onWindowResize();\n  }\n\n  createSprite () {\n    return new NgineThreeSprite(this.scene, this.assets);\n  }\n\n  destroySprite (sprite: NgineThreeSprite) {\n    // console.log('got ittt');\n    this.scene.remove(sprite.getMiddlewareSprite());\n  }\n\n  createScene () {\n    return new NgineThreeScene();\n  }\n\n  animate () {\n    this.zone.runOutsideAngular(() => {\n      // this.meter.tick();\n      window.requestAnimationFrame(() => this.animate());\n      this.render(this.scene, this.camera.getActive().getMiddlewareCamera());\n      this.zone.run(() => {\n        this.clock.tick.next();\n      });\n    });\n  }\n\n  render (scene: THREE.Scene, camera: THREE.Camera) {\n    this.renderer.clear();\n    this.renderer.render(scene, camera);\n  }\n\n  private onWindowResize () {\n    this.camera.getActive().updateBounds(new Rectangle(\n      new Vector(0, 0),\n      // new Vector(this.viewport.getWidth(), 1080)\n      this.viewport.getSize(),\n    ));\n\n    this.renderer.setSize(this.viewport.getWidth(), this.viewport.getHeight());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/src/render.ts","import { NgineMiddlewareScene } from '@ngine/core';\nimport * as THREE from 'three';\n\nexport class NgineThreeScene implements NgineMiddlewareScene {\n  private scene: THREE.Scene = new THREE.Scene();\n\n  getMiddlewareScene () {\n    return this.scene;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/src/scene.ts","import {\n  NgineMiddlewareSprite,\n  Asset,\n  AssetService,\n  Vector,\n} from '@ngine/core';\nimport { Subject } from 'rxjs/rx';\n\nimport * as THREE from 'three';\n\nexport class NgineThreeSprite implements NgineMiddlewareSprite {\n  public position: Vector = new Vector(0, 0, 0);\n  public rotation: Vector;\n  private sprite: THREE.Sprite;\n  private scale: Vector = new Vector(1, 1, 1);\n  private absolute: boolean = false;\n\n  private imageWidth: number;\n  private imageHeight: number;\n  private imageDepth: number;\n\n  constructor (private scene: THREE.Scene, private assets: AssetService) {}\n\n  setPosition (point: Vector, parentPosition?: Vector) {\n    if (!this.absolute && parentPosition) {\n      point = point.translate(parentPosition);\n    }\n    this.position = point;\n\n    if (this.sprite) {\n      this.sprite.position.set(point.x, point.y, point.z);\n    }\n  }\n\n  setRotation (point: Vector, parentRotation?: Vector) {\n    if (!this.absolute && parentRotation) {\n      point = point.translate(parentRotation);\n    }\n    this.rotation = point;\n\n    if (this.sprite) {\n      this.sprite.material.rotation = point.y;\n      // this.sprite.rotation.set(point.x, point.y, point.z);\n    }\n  }\n\n  setImage (data: string) {\n    // console.log(data);\n    const material = this.assets.getLoadedImageData(data).material;\n\n    this.imageWidth = material.map.image.width;\n    this.imageHeight = material.map.image.height;\n    this.imageDepth = 1;\n\n    if (!this.sprite) {\n      this.sprite = new THREE.Sprite(material);\n      this.scene.add(this.sprite);\n    } else {\n      this.sprite.material = material;\n    }\n\n    this.sprite.scale.set(this.imageWidth, this.imageHeight, 1);\n\n    this.setPosition(this.position);\n    this.setScale(this.scale);\n  }\n\n  getMiddlewareSprite (): THREE.Sprite {\n    return this.sprite;\n  }\n\n  setScale(point: Vector, parentScale?: Vector) {\n    if (!this.absolute && parentScale) {\n      point = point.scale(parentScale);\n    }\n    this.scale = point;\n\n    if (this.sprite) {\n      this.sprite.scale.set(\n        this.imageWidth * this.scale.x,\n        this.imageHeight * this.scale.y,\n        this.imageDepth * this.scale.z\n      );\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/src/sprite.ts","import { NgModule } from '@angular/core';\nimport { NgineRenderMiddleware, CAMERA_CLASS, NgineMiddlewareAssetFactory } from '@ngine/core';\n\nimport { NgineThree } from './render';\nimport { NgineThreeCamera } from './camera';\nimport { NgineThreeAssetFactory } from './assets';\n\n\n@NgModule({\n  declarations: [],\n  exports: [],\n  imports: [],\n  providers: [\n    { provide: NgineRenderMiddleware, useClass: NgineThree },\n    { provide: NgineMiddlewareAssetFactory, useClass: NgineThreeAssetFactory },\n    { provide: CAMERA_CLASS, useValue: NgineThreeCamera },\n  ]\n})\nexport class NgineThreeModule {\n  constructor() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/three/src/three.module.ts","export { NgineMiddlewareCamera, CAMERA_CLASS } from './camera';\nexport * from './physics';\nexport * from './render';\nexport * from './asset';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/middleware/index.ts","export * from './bounds';\nexport * from './camera';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/common/index.ts","import { Injectable } from '@angular/core';\nimport { ClockService, Vector, CameraService, ViewportService } from '@ngine/core';\nimport { Observable, Subject } from 'rxjs/rx';\n\n@Injectable()\nexport class LevelService {\n\n  private readonly INCREASE_AMOUNT = 2;   // How much to increase the speed by\n  private readonly INCREASE_EVERY = 200;  // Increase speed every x moves\n  // private readonly INCREASE_EVERY = 1000000000000;\n  private readonly BASE_SPEED = 5;        // Starting speed\n\n  public readonly OBSTACLE_OFFSET = 100; // Spacing between obstacles\n  public readonly NUM_OBSTACLES = Math.floor(this.viewport.getWidth() / this.OBSTACLE_OFFSET) * 2;\n\n  private readonly MAX_VELOCITY = 0.05;\n  private readonly NEXT_ACCELERATION_MIN = 10;\n  private readonly NEXT_ACCELERATION_MAX = 40;\n  private readonly MAX_ACCELERATION = 0.02;\n  private readonly MIN_ACCELERATION = -0.02;\n\n  private readonly MAX_GAP = 0.5;\n  private readonly MIN_GAP = 0.3;\n  private readonly STARTING_GAP = 0.5;\n  private readonly START_HEIGHT = 0.5;\n  private readonly OBSTACLE_PADDING = 0.05;\n\n  public position$;\n  public obstacles$;\n\n  public gameOver$: any = new Subject<boolean>();\n\n  constructor(\n    private clock: ClockService,\n    private camera: CameraService,\n    private viewport: ViewportService,\n  ) {\n    const timer$ = this.clock.tick\n      .scan((x) => x + 1, 0);\n\n    const speed$ = timer$\n      .filter((x) => x % this.INCREASE_EVERY === 0)\n      .map((x) => Math.floor(x / this.INCREASE_EVERY) * this.INCREASE_AMOUNT + this.BASE_SPEED)\n      .startWith(this.BASE_SPEED);\n\n    this.position$ = timer$\n      .withLatestFrom(speed$)\n      .scan((prev, [time, speed]) => prev + speed, 0)\n      .takeUntil(this.gameOver$);\n\n    const obstaclePos$ = this.position$\n      .withLatestFrom(speed$)\n      .filter(([x, speed]) => x % this.OBSTACLE_OFFSET < speed)\n      .scan((x) => x + 1, this.NUM_OBSTACLES)\n      .map((obstacleNum) => (obstacleNum - 1) * this.OBSTACLE_OFFSET);\n\n    const terrainAcceleration$ = Observable.of(null)\n      .concatMap(() => {\n        return timer$\n          .skip(Math.floor(this.randomNum(\n            this.NEXT_ACCELERATION_MIN,\n            this.NEXT_ACCELERATION_MAX\n          )))\n          .first();\n      })\n      .repeat()\n      .map(() => this.randomNum(this.MIN_ACCELERATION, this.MAX_ACCELERATION));\n    const terrainHeight$ = this.accelerateify(\n      obstaclePos$,\n      terrainAcceleration$,\n      this.MAX_VELOCITY,\n      0.1,\n      0.9,\n      this.START_HEIGHT,\n    ).startWith(this.START_HEIGHT);\n\n    const gapHeight$ = this.accelerateify(\n      obstaclePos$,\n      terrainAcceleration$,\n      this.MAX_VELOCITY,\n      this.MIN_GAP,\n      this.MAX_GAP,\n      this.STARTING_GAP\n    )\n    .startWith(this.STARTING_GAP);\n\n    const startingObstacles = Array(this.NUM_OBSTACLES).fill(0).map((_, i) => {\n      return [\n        new Vector(i * this.OBSTACLE_OFFSET, this.START_HEIGHT - this.STARTING_GAP / 2),\n        new Vector(i * this.OBSTACLE_OFFSET, this.START_HEIGHT + this.STARTING_GAP / 2),\n      ];\n    });\n\n    this.obstacles$ = obstaclePos$\n      .withLatestFrom(terrainHeight$, gapHeight$)\n      .map(([obstaclePos, terrainHeight, gapHeight]) => {\n        return [\n          // Bottom\n          new Vector(\n            obstaclePos,\n            Math.max(terrainHeight - (gapHeight / 2), this.OBSTACLE_PADDING)\n          ),\n          // Top\n          new Vector(\n            obstaclePos,\n            Math.min(terrainHeight + (gapHeight / 2), 1 - this.OBSTACLE_PADDING)\n          ),\n        ];\n      })\n      .share()\n      .startWith(...startingObstacles);\n  }\n\n  randomNum (min, max) {\n    return Math.random() * (max - min) + min;\n  }\n\n  startGame () {\n    this.position$\n      .subscribe((position) => {\n        this.camera.getActive().setPosition(\n          new Vector(position, 0)\n        );\n      });\n\n    this.position$\n      .subscribe((score) => {\n        document.getElementById('score').innerText = score;\n      });\n\n    this.gameOver$\n      .subscribe(() => {\n        document.getElementById('game-over').style.display = 'block';\n      });\n  }\n\n  gameOver () {\n    this.gameOver$.next(true);\n  }\n\n  accelerateify (\n    tick$: Observable<any>,\n    accelerate$: Observable<number>,\n    maxVelocity: number,\n    minPosition: number = null,\n    maxPosition: number = null,\n    startPos: number = 0,\n  ) {\n    const velocity$ = tick$\n      .withLatestFrom(accelerate$)\n      .scan((prev, [tick, acceleration]) => {\n        return Math.max(\n          Math.min(prev + acceleration, maxVelocity),\n          maxVelocity * -1\n        );\n      }, 0);\n\n    return velocity$\n      .scan((prev, velocity) => {\n        let position = prev + velocity;\n        if (minPosition !== null) {\n          position = Math.max(position, minPosition);\n        }\n        if (maxPosition !== null) {\n          position = Math.min(position, maxPosition);\n        }\n        return position;\n      }, startPos);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/level.service.ts","export { NgineRendererFactory } from './renderer';\nexport * from './styles';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/render/index.ts","import { Component, Input } from '@angular/core';\nimport { AssetService, SpriteStyle, StyleBinding, ViewportService, Vector } from '@ngine/core';\n\nexport enum ObstacleColor {\n  RED,\n  ORANGE,\n  YELLOW,\n  GREEN,\n  BLUE,\n  PURPLE,\n};\n\nconst OBSTACLE_COLOR_TO_PATH = {\n  [ObstacleColor.RED]: '/ngine-tutorial/demo/assets/img/obstacle_3.png',\n  [ObstacleColor.ORANGE]: '/ngine-tutorial/demo/assets/img/obstacle_5.png',\n  [ObstacleColor.YELLOW]: '/ngine-tutorial/demo/assets/img/obstacle_4.png',\n  [ObstacleColor.GREEN]: '/ngine-tutorial/demo/assets/img/obstacle_1.png',\n  [ObstacleColor.BLUE]: '/ngine-tutorial/demo/assets/img/obstacle_2.png',\n  [ObstacleColor.PURPLE]: '/ngine-tutorial/demo/assets/img/obstacle_6.png',\n};\n\n@Component({\n  selector: 'app-obstacle',\n  template: ``,\n  providers: [ SpriteStyle ],\n})\nexport class ObstacleComponent {\n  private height: number;\n  private flipped: boolean;\n  private type: ObstacleColor;\n\n  constructor(\n    @StyleBinding() private style: SpriteStyle,\n    private viewport: ViewportService,\n    private assets: AssetService,\n  ) {}\n\n  setHeight (height: number) {\n    this.height = height;\n  }\n\n  setFlipped (flipped: boolean) {\n    if (flipped) {\n      this.style.rotation.y = Math.PI;\n    } else {\n      this.style.rotation.y = 0;\n    }\n    this.flipped = flipped;\n  }\n\n  setType (type: ObstacleColor) {\n    this.type = type;\n\n    this.assets.loadImages([\n      { path: OBSTACLE_COLOR_TO_PATH[this.type] }\n    ]).subscribe(([image]) => {\n      this.style.image = image.style;\n    });\n  }\n\n  setPosition (position: number) {\n    this.assets.loadImages([\n      { path: OBSTACLE_COLOR_TO_PATH[this.type] }\n    ]).subscribe(([image]) => {\n      let pos = Vector.zero()\n        .moveX(this.viewport.getWidth() / -2)\n        .moveX(image.data.image.width / -2)\n        .moveX(position)\n        .setY(0)\n        .moveY(this.viewport.getHeight() / -2)\n        .moveY(this.viewport.relativeY(this.height))\n        .setZ(0);\n\n      if (this.flipped) {\n        pos = pos.moveY(image.data.image.height / 2);\n      } else {\n        pos = pos.moveY(image.data.image.height / -2);\n      }\n\n      this.style.position = pos;\n    });\n  }\n\n  // setPosition (position: number) {\n  //   this.assets.loadImages([\n  //     { path: OBSTACLE_COLOR_TO_PATH[this.type] }\n  //   ]).subscribe(([image]) => {\n  //     let pos = Vector.zero()\n  //       .moveX(this.viewport.getWidth() / -2)\n  //       .moveX(image.data.image.width / -2)\n  //       .moveX(position)\n  //       .setY(0)\n  //       .setZ(0);\n\n  //     if (this.flipped) {\n  //       pos = pos\n  //         .moveY(this.viewport.getHeight() / 2)\n  //         .moveY(image.data.image.height / 2)\n  //         .moveY(this.viewport.relativeY(this.height) * -1);\n  //     } else {\n  //       pos = pos\n  //         .moveY(this.viewport.getHeight() / -2)\n  //         .moveY(image.data.image.height / -2)\n  //         .moveY(this.viewport.relativeY(this.height));\n  //     }\n\n  //     this.style.position = pos;\n  //   });\n  // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/obstacle/obstacle.component.ts","import 'reflect-metadata';\nimport * as getParameterNames from 'get-parameter-names';\nimport * as objectPath from 'object-path';\n\nimport { Injectable, HostBinding } from '@angular/core';\nimport { Vector } from '../common';\nimport { SafeStyle } from '@angular/platform-browser';\n\n@Injectable()\nexport class Style {\n  public position = new Vector(0, 0, 0);\n  public image: string;\n  public type: string = 'group';\n}\n\n@Injectable()\nexport class SpriteStyle {\n  public position = new Vector(0, 0, 0);\n  public rotation = new Vector(0, 0, 0);\n  public scale = new Vector(1, 1, 1);\n  public image: SafeStyle;\n\n  // public width: number;\n  // public height: number;\n  // public depth: number;\n\n  private type: string = 'sprite';\n\n  constructor () {}\n}\n\nlet count = 0;\n\nexport function StyleBinding (): any {\n  return function ParamDecorator(target: any, key: string | symbol, parameterIndex: number) {\n    const types = Reflect.getMetadata('design:paramtypes', target);\n    if (types[parameterIndex] !== SpriteStyle) {\n      console.log(types[parameterIndex], SpriteStyle);\n      throw Error('That\\'s not a SpriteStyle parameter');\n    }\n\n    const names = getParameterNames(target);\n    const propertyKey = names[parameterIndex];\n    const styleMap = getSpriteStyleMap(propertyKey);\n\n    for (let styleKey of Object.keys(styleMap)) {\n      const getter = function () {\n        return objectPath.get(this, styleMap[styleKey]);\n      };\n\n      count++;\n      Object.defineProperty(target.prototype, 'test' + count, {\n        get: getter,\n      });\n      HostBinding(styleKey)(target.prototype, 'test' + count);\n    }\n  };\n};\n\n\n\n\nexport type GameObjectType = 'sprite' | 'group';\n\nexport function getSpriteStyleMap (name: string) {\n  return {\n    'style.type': `${name}.type`,\n    'style.position-x': `${name}.position.x`,\n    'style.position-y': `${name}.position.y`,\n    'style.position-z': `${name}.position.z`,\n\n    'style.rotation-x': `${name}.rotation.x`,\n    'style.rotation-y': `${name}.rotation.y`,\n    'style.rotation-z': `${name}.rotation.z`,\n\n    'style.image': `${name}.image`,\n    'style.width': `${name}.scale.x`,\n    'style.height': `${name}.scale.y`,\n    'style.depth': `${name}.scale.z`,\n  };\n};\n\n\n// import { Subject } from 'rxjs/rx';\n\n// @Injectable()\n// export class SpriteStyle2 {\n//   public position = new Subject<Vector>();\n// }\n\n// @HostBinding('[style.position-x]')\n\n// this.SpriteStyle2.position = Observable.of(5);\n\n// @SpriteStyle2Binding()\n// this.SpriteStyle2.position =\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/render/styles.ts","import { Injectable, Inject } from '@angular/core';\nimport { Rectangle, Vector, CameraType } from '../common';\nimport { ViewportService } from './viewport.service';\nimport { NgineRenderMiddleware, NgineMiddlewareCamera, CAMERA_CLASS } from '../middleware';\n\n/**\n * Manages the cameras for the game.\n * `CameraService` is available as an injectable class.\n *\n * ### Example\n * ```typescript\n * @Component({...})\n * class PlayerComponent {\n *  constructor (camera: CameraService) {\n *    this.camera.setPosition(new Vector(5,5));\n *  }\n * }\n * ```\n */\n@Injectable()\nexport class CameraService {\n  private active: NgineMiddlewareCamera;\n  private cameras: Map<string, Camera> = new Map();\n\n  private cameraClass;\n\n  constructor (\n    @Inject(CAMERA_CLASS) cameraClass: NgineMiddlewareCamera,\n    private viewport: ViewportService,\n  ) {\n    this.cameraClass = cameraClass;\n    this.create(\n      'root',\n      new Rectangle(new Vector(0, 0), new Vector(1920, 1080)),\n      // new Rectangle(new Vector(0, 0), this.viewport.getSize()),\n      CameraType.ORTHO,\n      new Vector(0, 0, 10)\n    );\n  }\n\n  create (\n    name: string,\n    bounds: Rectangle,\n    type: CameraType,\n    position?: Vector\n  ): NgineMiddlewareCamera {\n    const camera = new this.cameraClass(bounds, type, position);\n    this.cameras.set(name, camera);\n    if (!this.getActive()) {\n      this.activate(camera);\n    }\n    return camera;\n  }\n\n  activate(camera: NgineMiddlewareCamera | string) {\n    if (camera instanceof this.cameraClass) {\n      this.active = camera as NgineMiddlewareCamera;\n    } else {\n      this.active = this.get(name);\n    }\n  }\n\n  getActive(): NgineMiddlewareCamera {\n    return this.active;\n  }\n\n  get (name: string) {\n    return this.cameras.get(name);\n  }\n}\n\nexport interface Camera extends NgineMiddlewareCamera {}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/camera.service.ts","export { AssetService, AssetFactoryService } from './asset.service';\nexport { CameraService, Camera } from './camera.service';\nexport { SoundService } from './sound.service';\nexport { ClockService } from './clock.service';\nexport { KeyService, KeyServiceOpts } from './key.service';\nexport { PhysicsService } from './physics.service';\nexport { AnimationService } from './animation.service';\nexport { MouseService } from './mouse.service';\nexport { ViewportService } from './viewport.service';\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/index.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/rx';\n\nimport { Asset, CachedSound } from '../middleware';\n\n@Injectable()\nexport class SoundService {\n  public volume: number;\n  public pan: number;\n  public root: Mixer;\n  public children: SoundNode[];\n\n  private sounds: Sound[];\n  private panNode: StereoPannerNode;\n  private gainNode: GainNode;\n  private rootContext: AudioContext;\n\n  constructor() {\n    this.initMaster();\n  }\n\n  initMaster() {\n    this.rootContext = new AudioContext();\n    // this.root = new Mixer(this.rootContext.destination, this.rootContext);\n  }\n\n  create(asset: Asset, sound: HTMLAudioElement): Sound {\n    return new Sound(\n      sound,\n      this.rootContext.createMediaElementSource(sound),\n      this.rootContext\n    );\n  }\n\n  playAll() {\n    this.doAll((s) => s.play());\n  }\n\n  pauseAll() {\n    this.doAll((s) => s.pause());\n  }\n\n  stopAll() {\n    this.doAll((s) => s.stop());\n  }\n\n  private doAll(callback: AllActionCallback) {\n    const queue: SoundNode[] = [];\n    queue.push(this.root);\n    do {\n      const soundNode = queue.pop();\n      if (soundNode instanceof Sound) {\n        callback(soundNode);\n      } else if (soundNode instanceof Mixer) {\n        soundNode.children.forEach((x) => queue.push(x));\n      }\n    } while (queue.length !== 0);\n  }\n}\n\ninterface AllActionCallback { (sound: Sound): void; };\n\nexport interface SoundNodeOptions {\n  volume?: number;\n  pan?: number;\n}\n\nexport interface SoundOptions extends SoundNodeOptions {\n  time?: number;\n}\n\nexport class SoundNode {\n  public volume: number;\n  public pan: number;\n\n  protected panNode: StereoPannerNode;\n  protected gainNode: GainNode;\n\n  constructor(\n    protected source: AudioNode,\n    protected context: AudioContext,\n    opts?: SoundNodeOptions\n  ) {\n    if (opts) {\n      Object.assign(this, opts);\n    }\n\n    this.initSound();\n  }\n\n  initSound() {\n    // this.root.connect(this.context.destination);\n\n    this.panNode = this.context.createStereoPanner();\n    this.gainNode = this.context.createGain();\n\n    this.panNode.pan.value = 0;\n    this.gainNode.gain.value = 0.5;\n\n    this.source.connect(this.panNode);\n    this.panNode.connect(this.gainNode);\n    this.gainNode.connect(this.context.destination);\n    // this.gainNode.connect(this.root);\n  }\n\n  setVolume(volume: number) {\n    if (volume < 0 || volume > 1) {\n      throw new Error('Invalid volume value');\n    }\n    this.volume = volume;\n    this.gainNode.gain.value = volume;\n  }\n\n  setPan(pan: number) {\n    if (pan < -1 || pan > 1) {\n      throw new Error('Invalid pan value');\n    }\n    this.pan = pan;\n    this.panNode.pan.value = pan;\n  }\n\n}\n\nexport class Mixer extends SoundNode {\n  public children: SoundNode[];\n\n  constructor(\n    protected root: AudioNode,\n    protected context,\n    opts?: SoundNodeOptions\n  ) {\n    super(root, context, opts);\n    if (opts) {\n      Object.assign(this, opts);\n    }\n  }\n\n  addChild(sound: SoundNode) {\n    this.children.push(sound);\n  }\n\n  removeChild(sound: SoundNode) {\n    this.children = this.children.filter((x) => x !== sound);\n  }\n}\n\nexport class Sound extends SoundNode {\n  public playing: boolean;\n  public ended$: Observable<Sound>;\n  public time$: Observable<number>;\n\n  constructor(\n    protected element: HTMLAudioElement,\n    source: MediaElementAudioSourceNode,\n    context: AudioContext,\n    opts: SoundOptions = {}\n  ) {\n    super(source, context, opts);\n    if (opts) {\n      Object.assign(this, opts);\n    }\n\n    this.ended$ = Observable\n      .fromEvent(this.element, 'ended')\n      .map(() => this);\n\n    this.time$ = Observable\n      .fromEvent(this.element, 'timeupdate')\n      .map(() => this.element.currentTime);\n\n    // this.connectSound();\n  }\n\n  connectSound() {\n    const source = this.context.createMediaElementSource(this.element);\n    source.connect(this.panNode);\n  }\n\n  play() {\n    this.element.play();\n  }\n\n  pause() {\n    this.element.pause();\n  }\n\n  stop() {\n    this.pause();\n    this.setTime(0);\n  }\n\n  setTime(secs: number) {\n    if (secs < 0) {\n      throw new Error('Invalid time value');\n    }\n    this.element.currentTime = secs;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/sound.service.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/rx';\r\n\r\nimport { Vector } from '@ngine/core';\r\n\r\n@Injectable()\r\nexport class ViewportService {\r\n  public resize$: Observable<Vector>;\r\n\r\n  constructor () {\r\n    this.resize$ = Observable\r\n      .fromEvent(window, 'resize')\r\n      .map(() => this.getSize());\r\n  }\r\n\r\n  getSize () {\r\n    return new Vector(window.innerWidth, window.innerHeight);\r\n  }\r\n\r\n  getWidth () {\r\n    return window.innerWidth;\r\n  }\r\n\r\n  getHeight () {\r\n    return window.innerHeight;\r\n  }\r\n\r\n  relativeX (x: number) {\r\n    return window.innerWidth * x;\r\n  }\r\n\r\n  relativeY (y: number) {\r\n    return window.innerHeight * y;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ../ngine/packages/core/src/services/viewport.service.ts"],"sourceRoot":""}